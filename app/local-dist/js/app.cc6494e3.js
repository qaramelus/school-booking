(function(){"use strict";var e={3699:function(e,t,a){var i=a(9798),n=a(4220);const o={id:"app"};function r(e,t){const a=(0,n.g2)("router-view");return(0,n.uX)(),(0,n.CE)("div",o,[(0,n.bF)(a)])}var s=a(1317);const l={},d=(0,s.A)(l,[["render",r]]);var c=d,u=a(5220),h=a(7700);const m={class:"login-container"},p={class:"language-switcher"},v=["onClick"],k={key:0,class:"error-message"},g={key:0};function A(e,t,a,o,r,s){const l=(0,n.g2)("input-component"),d=(0,n.g2)("button-component");return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("div",m,[(0,n.Lk)("div",p,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(r.languages,(e=>((0,n.uX)(),(0,n.CE)("button",{key:e,onClick:t=>s.changeLanguage(e)},(0,h.v_)(e),9,v)))),128))]),(0,n.Lk)("h1",null,(0,h.v_)(e.$t("login")),1),(0,n.Lk)("form",{onSubmit:t[2]||(t[2]=(0,i.D$)(((...e)=>s.login&&s.login(...e)),["prevent"]))},[((0,n.uX)(),(0,n.Wv)(l,{key:r.currentLang,modelValue:r.email,"onUpdate:modelValue":t[0]||(t[0]=e=>r.email=e),type:"email",placeholder:e.$t("emailAddress")},null,8,["modelValue","placeholder"])),((0,n.uX)(),(0,n.Wv)(l,{key:r.currentLang,modelValue:r.password,"onUpdate:modelValue":t[1]||(t[1]=e=>r.password=e),type:"password",placeholder:e.$t("password")},null,8,["modelValue","placeholder"])),(0,n.bF)(d,{type:"submit","btn-type":"primary"},{default:(0,n.k6)((()=>[(0,n.eW)((0,h.v_)(e.$t("signIn")),1)])),_:1})],32),r.errorMessage?((0,n.uX)(),(0,n.CE)("p",k,(0,h.v_)(e.$t("invalidCredentials")),1)):(0,n.Q3)("",!0)]),r.isAdmin?((0,n.uX)(),(0,n.CE)("div",g,[(0,n.Lk)("h2",null,(0,h.v_)(e.$t("createAdmin")),1),(0,n.Lk)("form",{onSubmit:t[6]||(t[6]=(0,i.D$)(((...t)=>e.createAdmin&&e.createAdmin(...t)),["prevent"]))},[(0,n.bF)(l,{modelValue:e.newAdmin.username,"onUpdate:modelValue":t[3]||(t[3]=t=>e.newAdmin.username=t),placeholder:"Username"},null,8,["modelValue"]),(0,n.bF)(l,{modelValue:e.newAdmin.email,"onUpdate:modelValue":t[4]||(t[4]=t=>e.newAdmin.email=t),type:"email",placeholder:"Email"},null,8,["modelValue"]),(0,n.bF)(l,{modelValue:e.newAdmin.password,"onUpdate:modelValue":t[5]||(t[5]=t=>e.newAdmin.password=t),type:"password",placeholder:"Password"},null,8,["modelValue"]),(0,n.bF)(d,{"btn-type":"secondary"},{default:(0,n.k6)((()=>[(0,n.eW)((0,h.v_)(e.$t("create")),1)])),_:1})],32)])):(0,n.Q3)("",!0)],64)}a(4645);const b={class:"input-wrapper"},y=["type","placeholder","value"];function f(e,t,a,i,o,r){return(0,n.uX)(),(0,n.CE)("div",b,[(0,n.Lk)("input",{type:a.type,placeholder:a.placeholder,value:a.modelValue,onInput:t[0]||(t[0]=(...e)=>r.updateValue&&r.updateValue(...e))},null,40,y)])}var L={props:{type:String,placeholder:String,modelValue:[String,Number]},methods:{updateValue(e){this.$emit("update:modelValue",e.target.value)}}};const w=(0,s.A)(L,[["render",f],["__scopeId","data-v-d5e1dde2"]]);var C=w;function I(e,t,a,i,o,r){return(0,n.uX)(),(0,n.CE)("button",{class:(0,h.C4)(["btn",`btn-${a.type}`]),onClick:t[0]||(t[0]=(...e)=>r.onClick&&r.onClick(...e))},[(0,n.RG)(e.$slots,"default",{},void 0,!0)],2)}var E={props:{type:{type:String,default:"primary"}},methods:{onClick(){this.$emit("click")}}};const S=(0,s.A)(E,[["render",I],["__scopeId","data-v-06b8f5f8"]]);var T=S,D=a(83);const F={async login(e,t){try{const a=await D.A.post("auth/login",{email:e,password:t});return localStorage.setItem("user-token",a.data.token),localStorage.setItem("user-role",a.data.role),localStorage.setItem("user-id",a.data._id),"parent"===a.data.role&&localStorage.setItem("parent-id",a.data._id),a.data.role}catch(a){throw a.response&&a.response.data?new Error(a.response.data.message||"Login failed"):new Error("Network error or server is not responding")}}};var U=F,N={components:{InputComponent:C,ButtonComponent:T},data(){return{email:"",password:"",errorMessage:"",languages:["en","de","lv"],currentLang:this.$i18n.locale,isAdmin:!1}},methods:{async login(){try{const e=await U.login(this.email,this.password);this.redirectUser(e)}catch(e){this.errorMessage=e.message,console.error(e)}},redirectUser(e){const t={parent:"ParentOverview",child:"ChildOverview",admin:"AdminOverview",teacher:"TeacherOverview"},a=t[e];a?this.$router.push({name:a}):console.error("User role is not recognized or missing")},changeLanguage(e){this.$i18n.locale=e,this.currentLang=e}}};const M=(0,s.A)(N,[["render",A],["__scopeId","data-v-793dcd77"]]);var x=M;const Q={class:"overview-section"},P={class:"filter-buttons"},B={class:"activities"},V=(0,n.Lk)("h2",null,"Activities",-1),X={key:0,class:"no-activities"},q=(0,n.Lk)("p",null,"No activities available for booking at this time.",-1),W=[q],O={class:"activity-cards"},j=["onClick"],R={class:"card-content"},H=["innerHTML"],Y=(0,n.Lk)("strong",null,"Start Date:",-1),J=(0,n.Lk)("strong",null,"End Date:",-1),G=["onClick"],z={key:0,class:"modal"},K={class:"modal-content"},Z=(0,n.Lk)("h3",null,"Book an Activity",-1),_=(0,n.Lk)("option",{disabled:"",value:""},"Select Activity",-1),$=["value"],ee=(0,n.Lk)("option",{disabled:"",value:""},"Select Child",-1),te=["value"];function ae(e,t,a,o,r,s){const l=(0,n.g2)("parent-navbar"),d=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.bF)(l,{userId:r.currentUserId},null,8,["userId"]),(0,n.Lk)("div",Q,[(0,n.Lk)("div",P,[(0,n.Lk)("button",{onClick:t[0]||(t[0]=e=>r.selectedFilter="open"),class:(0,h.C4)({active:"open"===r.selectedFilter})},"Open",2),(0,n.Lk)("button",{onClick:t[1]||(t[1]=e=>r.selectedFilter="current"),class:(0,h.C4)({active:"current"===r.selectedFilter})},"Current",2),(0,n.Lk)("button",{onClick:t[2]||(t[2]=e=>r.selectedFilter="all"),class:(0,h.C4)({active:"all"===r.selectedFilter})},"All",2)]),(0,n.Lk)("div",B,[V,0===s.bookableActivities.length?((0,n.uX)(),(0,n.CE)("div",X,W)):(0,n.Q3)("",!0),(0,n.Lk)("div",O,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(s.bookableActivities,(e=>((0,n.uX)(),(0,n.Wv)(d,{key:e._id,to:`/activities/${e._id}`,custom:""},{default:(0,n.k6)((({navigate:t})=>[(0,n.Lk)("div",{class:"activity-card",onClick:t},[(0,n.Lk)("div",R,[(0,n.Lk)("h3",null,(0,h.v_)(e.name),1),(0,n.Lk)("p",{innerHTML:e.description},null,8,H),(0,n.Lk)("p",null,[Y,(0,n.eW)(" "+(0,h.v_)(new Date(e.startDate).toLocaleDateString()),1)]),(0,n.Lk)("p",null,[J,(0,n.eW)(" "+(0,h.v_)(new Date(e.endDate).toLocaleDateString()),1)]),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.timeSlots,((e,t)=>((0,n.uX)(),(0,n.CE)("div",{key:t},[(0,n.Lk)("p",null,(0,h.v_)(e.dayOfWeek)+": "+(0,h.v_)(e.startTime)+" - "+(0,h.v_)(e.endTime),1)])))),128)),s.isWithinSignupPeriod(e)?((0,n.uX)(),(0,n.CE)("button",{key:0,class:"book-activity-button",onClick:(0,i.D$)((t=>s.handleBookClick(e)),["stop"])},"Book Activity",8,G)):(0,n.Q3)("",!0)])],8,j)])),_:2},1032,["to"])))),128))])]),r.showBookingModal?((0,n.uX)(),(0,n.CE)("div",z,[(0,n.Lk)("div",K,[(0,n.Lk)("span",{onClick:t[3]||(t[3]=e=>r.showBookingModal=!1),class:"close"},"×"),Z,(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t[4]||(t[4]=e=>r.selectedActivity=e),class:"select-style"},[_,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(s.bookableActivities,(e=>((0,n.uX)(),(0,n.CE)("option",{value:e._id,key:e._id},(0,h.v_)(e.name),9,$)))),128))],512),[[i.u1,r.selectedActivity]]),(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t[5]||(t[5]=e=>r.selectedChild=e),class:"select-style"},[ee,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(r.children,(e=>((0,n.uX)(),(0,n.CE)("option",{value:e.id,key:e.id},(0,h.v_)(e.name),9,te)))),128))],512),[[i.u1,r.selectedChild]]),(0,n.Lk)("button",{onClick:t[6]||(t[6]=(...e)=>s.bookActivity&&s.bookActivity(...e)),class:"book-modal-button"},"Book Activity")])])):(0,n.Q3)("",!0)])])}var ie=a(8690),ne={name:"ParentOverview",components:{ParentNavbar:ie.A},data(){return{currentUserId:"",activities:[],showBookingModal:!1,children:[],selectedChild:"",selectedActivity:"",selectedFilter:"open"}},computed:{bookableActivities(){const e=new Date;return this.activities.filter((t=>{const a=new Date(t.signupStartDate),i=new Date(t.signupEndDate),n=e>=a&&e<=i,o=e>=new Date(t.startDate)&&e<=new Date(t.endDate);switch(this.selectedFilter){case"open":return n;case"current":return o;case"all":return!0;default:return!1}}))}},methods:{fetchActivities(){D.A.get("activities").then((e=>{this.activities=e.data})).catch((e=>{console.error("There was an error fetching the activities:",e)}))},fetchChildren(){const e=localStorage.getItem("parent-id");e?D.A.get(`users/${e}/children`).then((e=>{this.children=e.data.map((e=>({id:e._id,name:e.username})))})).catch((e=>{console.error("There was an error fetching the children:",e)})):console.error("Parent ID is undefined.")},isWithinSignupPeriod(e){const t=new Date,a=new Date(e.signupStartDate),i=new Date(e.signupEndDate);return t>=a&&t<=i},handleBookClick(e){this.selectedActivity=e._id,this.showBookingModal=!0},bookActivity(){if(!this.selectedChild||!this.selectedActivity)return void alert("Please select both a child and an activity");const e={childId:this.selectedChild,activityId:this.selectedActivity};D.A.post("/booking/bookActivity",e,{headers:{Authorization:`Bearer ${localStorage.getItem("user-token")}`}}).then((()=>{alert("Activity booked successfully"),this.showBookingModal=!1,this.fetchActivities()})).catch((e=>{console.error("There was an error booking the activity:",e)}))}},created(){this.currentUserId=localStorage.getItem("user-id"),this.fetchActivities(),this.fetchChildren()}};const oe=(0,s.A)(ne,[["render",ae]]);var re=oe;const se=e=>((0,n.Qi)("data-v-5b0b5dad"),e=e(),(0,n.jt)(),e),le={class:"child-overview"},de=se((()=>(0,n.Lk)("h1",null,"You logged on successfully",-1))),ce=se((()=>(0,n.Lk)("p",null,"Hello my dear friend!",-1)));function ue(e,t,a,i,o,r){return(0,n.uX)(),(0,n.CE)("div",le,[de,ce,(0,n.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>r.performLogout&&r.performLogout(...e))},"Logout")])}var he=a(4453),me={name:"ChildOverview",methods:{performLogout(){(0,he.r)(this.$router)}}};const pe=(0,s.A)(me,[["render",ue],["__scopeId","data-v-5b0b5dad"]]);var ve=pe;const ke=e=>((0,n.Qi)("data-v-284609eb"),e=e(),(0,n.jt)(),e),ge={class:"admin-overview"},Ae={class:"button-container"},be={class:"button-container"},ye={class:"activities"},fe=ke((()=>(0,n.Lk)("h2",null,"Activities",-1))),Le={class:"activity-cards"},we=["onClick"],Ce={class:"card-content"},Ie=["innerHTML"],Ee=ke((()=>(0,n.Lk)("strong",null,"Start Date:",-1))),Se=ke((()=>(0,n.Lk)("strong",null,"End Date:",-1))),Te=ke((()=>(0,n.Lk)("strong",null,"Location:",-1))),De={class:"card-icons"},Fe=["src","onClick"],Ue=["src","onClick"];function Ne(e,t,a,o,r,s){const l=(0,n.g2)("admin-navbar"),d=(0,n.g2)("ActivityModal");return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.bF)(l,{userId:r.currentUserId},null,8,["userId"]),(0,n.Lk)("div",ge,[(0,n.Lk)("div",Ae,[(0,n.Lk)("button",{onClick:t[0]||(t[0]=e=>s.fetchActivities("all"))},"All Activities"),(0,n.Lk)("button",{onClick:t[1]||(t[1]=e=>s.fetchActivities("current"))},"Current Activities"),(0,n.Lk)("button",{onClick:t[2]||(t[2]=e=>s.fetchActivities("future"))},"Upcoming Activities")]),(0,n.Lk)("div",be,[(0,n.Lk)("button",{class:"add-activity-button",onClick:t[3]||(t[3]=(...e)=>s.prepareNewActivity&&s.prepareNewActivity(...e))},"Add Activity")]),(0,n.bF)(d,{isVisible:r.showModal,editingActivity:r.editingActivity,onClose:s.handleModalClose,onActivityAdded:s.handleActivityAdded,onActivityUpdated:s.handleActivityUpdated},null,8,["isVisible","editingActivity","onClose","onActivityAdded","onActivityUpdated"]),(0,n.Lk)("div",ye,[fe,(0,n.Lk)("div",Le,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(r.activities,(e=>((0,n.uX)(),(0,n.CE)("div",{key:e._id,class:"activity-card",onClick:t=>s.goToActivityDetail(e._id)},[(0,n.Lk)("div",Ce,[(0,n.Lk)("h3",null,(0,h.v_)(e.name),1),(0,n.Lk)("p",{innerHTML:e.description},null,8,Ie),(0,n.Lk)("p",null,[Ee,(0,n.eW)(" "+(0,h.v_)(new Date(e.startDate).toLocaleDateString()),1)]),(0,n.Lk)("p",null,[Se,(0,n.eW)(" "+(0,h.v_)(new Date(e.endDate).toLocaleDateString()),1)]),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.timeSlots,((e,t)=>((0,n.uX)(),(0,n.CE)("div",{key:t},[(0,n.Lk)("p",null,[(0,n.Lk)("strong",null,(0,h.v_)(e.dayOfWeek)+":",1),(0,n.eW)(" "+(0,h.v_)(e.startTime)+" - "+(0,h.v_)(e.endTime),1)]),(0,n.Lk)("p",null,[Te,(0,n.eW)(" "+(0,h.v_)(s.getLocationName(e.location)),1)])])))),128))]),(0,n.Lk)("div",De,[(0,n.Lk)("img",{src:r.trashIcon,class:"delete-icon",onClick:(0,i.D$)((t=>s.confirmDelete(e._id)),["stop"])},null,8,Fe),(0,n.Lk)("img",{src:r.editIcon,class:"edit-icon",onClick:(0,i.D$)((t=>s.editActivity(e)),["stop"])},null,8,Ue)])],8,we)))),128))])])])],64)}const Me=e=>((0,n.Qi)("data-v-38314f9a"),e=e(),(0,n.jt)(),e),xe={key:0,class:"modal-overlay"},Qe={class:"modal-content"},Pe={class:"form-group"},Be=Me((()=>(0,n.Lk)("label",{for:"activity-name"},"Title:",-1))),Ve={class:"form-group"},Xe=Me((()=>(0,n.Lk)("label",{for:"activity-teachers"},"Teachers:",-1))),qe=Me((()=>(0,n.Lk)("option",{disabled:"",value:""},"Select Teachers",-1))),We=["value"],Oe={class:"form-group"},je=Me((()=>(0,n.Lk)("label",{for:"activity-description"},"Detail:",-1))),Re={class:"form-group"},He=Me((()=>(0,n.Lk)("label",{for:"activity-max-participants"},"Max Participants:",-1))),Ye={class:"form-group"},Je=Me((()=>(0,n.Lk)("label",{for:"activity-start-date"},"Start Date:",-1))),Ge={class:"form-group"},ze=Me((()=>(0,n.Lk)("label",{for:"activity-end-date"},"End Date:",-1))),Ke={class:"form-group"},Ze=Me((()=>(0,n.Lk)("label",{for:"activity-signup-start-date"},"Signup Start Date:",-1))),_e={class:"form-group"},$e=Me((()=>(0,n.Lk)("label",{for:"activity-signup-end-date"},"Signup End Date:",-1))),et={class:"time-slot-section"},tt={class:"form-group"},at=Me((()=>(0,n.Lk)("label",null,"Location:",-1))),it=["onUpdate:modelValue"],nt=Me((()=>(0,n.Lk)("option",{disabled:"",value:""},"Select Location",-1))),ot=["value"],rt={class:"form-group"},st=Me((()=>(0,n.Lk)("label",null,"Day of the Week:",-1))),lt=["onUpdate:modelValue"],dt=(0,n.Fv)('<option disabled value="" data-v-38314f9a>Select a Day</option><option value="Monday" data-v-38314f9a>Monday</option><option value="Tuesday" data-v-38314f9a>Tuesday</option><option value="Wednesday" data-v-38314f9a>Wednesday</option><option value="Thursday" data-v-38314f9a>Thursday</option><option value="Friday" data-v-38314f9a>Friday</option><option value="Saturday" data-v-38314f9a>Saturday</option><option value="Sunday" data-v-38314f9a>Sunday</option>',8),ct=[dt],ut={class:"form-group"},ht=Me((()=>(0,n.Lk)("label",null,"Start Time:",-1))),mt=["onUpdate:modelValue"],pt={class:"form-group"},vt=Me((()=>(0,n.Lk)("label",null,"End Time:",-1))),kt=["onUpdate:modelValue"],gt=["onClick"],At={class:"add-slot-button-container"},bt={type:"submit",class:"submit-button"};function yt(e,t,a,o,r,s){const l=(0,n.g2)("ckeditor");return a.isVisible?((0,n.uX)(),(0,n.CE)("div",xe,[(0,n.Lk)("div",Qe,[(0,n.Lk)("span",{class:"close",onClick:t[0]||(t[0]=(...e)=>s.closeModal&&s.closeModal(...e))},"×"),(0,n.Lk)("h2",null,(0,h.v_)(a.editingActivity?"Edit Activity":"Add New Activity"),1),(0,n.Lk)("form",{onSubmit:t[10]||(t[10]=(0,i.D$)(((...e)=>s.submitActivity&&s.submitActivity(...e)),["prevent"])),class:"activity-form"},[(0,n.Lk)("div",Pe,[Be,(0,n.bo)((0,n.Lk)("input",{type:"text",id:"activity-name","onUpdate:modelValue":t[1]||(t[1]=e=>r.activity.name=e),required:""},null,512),[[i.Jo,r.activity.name]])]),(0,n.Lk)("div",Ve,[Xe,(0,n.bo)((0,n.Lk)("select",{id:"activity-teachers","onUpdate:modelValue":t[2]||(t[2]=e=>r.activity.teachers=e),multiple:"",required:""},[qe,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(r.teachers,(e=>((0,n.uX)(),(0,n.CE)("option",{value:e._id,key:e._id},(0,h.v_)(e.username),9,We)))),128))],512),[[i.u1,r.activity.teachers]])]),(0,n.Lk)("div",Oe,[je,(0,n.bF)(l,{editor:r.editor,modelValue:r.activity.description,"onUpdate:modelValue":t[3]||(t[3]=e=>r.activity.description=e),config:r.editorConfig},null,8,["editor","modelValue","config"])]),(0,n.Lk)("div",Re,[He,(0,n.bo)((0,n.Lk)("input",{type:"number",id:"activity-max-participants","onUpdate:modelValue":t[4]||(t[4]=e=>r.activity.maxParticipants=e),required:"",min:"1"},null,512),[[i.Jo,r.activity.maxParticipants]])]),(0,n.Lk)("div",Ye,[Je,(0,n.bo)((0,n.Lk)("input",{type:"date",id:"activity-start-date","onUpdate:modelValue":t[5]||(t[5]=e=>r.activity.startDate=e),required:""},null,512),[[i.Jo,r.activity.startDate]])]),(0,n.Lk)("div",Ge,[ze,(0,n.bo)((0,n.Lk)("input",{type:"date",id:"activity-end-date","onUpdate:modelValue":t[6]||(t[6]=e=>r.activity.endDate=e),required:""},null,512),[[i.Jo,r.activity.endDate]])]),(0,n.Lk)("div",Ke,[Ze,(0,n.bo)((0,n.Lk)("input",{type:"date",id:"activity-signup-start-date","onUpdate:modelValue":t[7]||(t[7]=e=>r.activity.signupStartDate=e),required:""},null,512),[[i.Jo,r.activity.signupStartDate]])]),(0,n.Lk)("div",_e,[$e,(0,n.bo)((0,n.Lk)("input",{type:"date",id:"activity-signup-end-date","onUpdate:modelValue":t[8]||(t[8]=e=>r.activity.signupEndDate=e),required:""},null,512),[[i.Jo,r.activity.signupEndDate]])]),(0,n.Lk)("div",et,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(r.activity.timeSlots,((e,t)=>((0,n.uX)(),(0,n.CE)("div",{class:"time-slot",key:t},[(0,n.Lk)("h3",null,"Time Slot "+(0,h.v_)(t+1),1),(0,n.Lk)("div",tt,[at,(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t=>e.location=t,required:""},[nt,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(r.locations,(e=>((0,n.uX)(),(0,n.CE)("option",{value:e._id,key:e._id},(0,h.v_)(e.name)+" - "+(0,h.v_)(e.address),9,ot)))),128))],8,it),[[i.u1,e.location]])]),(0,n.Lk)("div",rt,[st,(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t=>e.dayOfWeek=t,required:""},ct,8,lt),[[i.u1,e.dayOfWeek]])]),(0,n.Lk)("div",ut,[ht,(0,n.bo)((0,n.Lk)("input",{type:"time","onUpdate:modelValue":t=>e.startTime=t,required:""},null,8,mt),[[i.Jo,e.startTime]])]),(0,n.Lk)("div",pt,[vt,(0,n.bo)((0,n.Lk)("input",{type:"time","onUpdate:modelValue":t=>e.endTime=t,required:""},null,8,kt),[[i.Jo,e.endTime]])]),(0,n.Lk)("button",{type:"button",onClick:(0,i.D$)((e=>s.removeTimeSlot(t)),["prevent"])},"Remove Time Slot",8,gt)])))),128)),(0,n.Lk)("div",At,[(0,n.Lk)("button",{type:"button",onClick:t[9]||(t[9]=(...e)=>s.addTimeSlot&&s.addTimeSlot(...e)),class:"add-time-slot-button"},"Add Time Slot")])]),(0,n.Lk)("button",bt,(0,h.v_)(a.editingActivity?"Update Activity":"Add Activity"),1)],32)])])):(0,n.Q3)("",!0)}var ft=a(9551),Lt=a.n(ft),wt=a(6384),Ct=a.n(wt),It={name:"ActivityModal",components:{ckeditor:Lt().component},props:{isVisible:{type:Boolean,required:!0},editingActivity:{type:Object,default:null}},data(){return{activity:{name:"",description:"",startDate:"",endDate:"",signupStartDate:"",signupEndDate:"",timeSlots:[{dayOfWeek:"",startTime:"",endTime:"",location:""}],teachers:[],maxParticipants:10},teachers:[],locations:[],editor:Ct(),editorConfig:{toolbar:["heading","|","bold","italic","link","bulletedList","numberedList","blockQuote"],placeholder:"Enter the activity details..."}}},watch:{editingActivity:{handler(e){e?this.activity={...e,startDate:e.startDate.split("T")[0],endDate:e.endDate.split("T")[0],signupStartDate:e.signupStartDate?e.signupStartDate.split("T")[0]:"",signupEndDate:e.signupEndDate?e.signupEndDate.split("T")[0]:"",timeSlots:e.timeSlots.length>0?e.timeSlots:[{dayOfWeek:"",startTime:"",endTime:"",location:""}],maxParticipants:e.maxParticipants||10}:this.resetActivity()},deep:!0,immediate:!0}},mounted(){console.log("ClassicEditor:",Ct())},methods:{addTimeSlot(){this.activity.timeSlots.push({dayOfWeek:"",startTime:"",endTime:"",location:""})},removeTimeSlot(e){this.activity.timeSlots.splice(e,1)},closeModal(){this.resetActivity(),this.$emit("close")},submitActivity(){const e=localStorage.getItem("user-id");if(!e)return void console.error("User ID not found. Please log in.");const t=this.activity.teachers.filter((e=>null!==e)),a={...this.activity,createdBy:e,teachers:t},i=this.editingActivity?D.A.put(`/activities/${this.editingActivity._id}`,a):D.A.post("/activities",a);i.then((()=>{this.$emit(this.editingActivity?"activityUpdated":"activityAdded"),this.closeModal()})).catch((e=>{console.error("Error updating or adding activity:",e)}))},resetActivity(){this.activity={name:"",description:"",startDate:"",endDate:"",signupStartDate:"",signupEndDate:"",timeSlots:[{dayOfWeek:"",startTime:"",endTime:"",location:""}],teachers:[],maxParticipants:10}},fetchTeachers(){D.A.get("/users/teachers").then((e=>{this.teachers=e.data.map((e=>({_id:e._id,username:e.username})))})).catch((e=>{console.error("Error fetching teachers:",e)}))},fetchLocations(){D.A.get("/locations").then((e=>{this.locations=e.data})).catch((e=>{console.error("Error fetching locations:",e)}))}},created(){this.fetchTeachers(),this.fetchLocations()}};const Et=(0,s.A)(It,[["render",yt],["__scopeId","data-v-38314f9a"]]);var St=Et,Tt="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAUFBQUFBQUGBgUICAcICAsKCQkKCxEMDQwNDBEaEBMQEBMQGhcbFhUWGxcpIBwcICkvJyUnLzkzMzlHREddXX3/wgALCAFoAWgBASEA/8QAHQABAQADAQEBAQEAAAAAAAAAAAUHCAkGBAECA//aAAgBAQAAAADbAtkQtkQtkQtkQtkQtkQtkQFsiFsiFsiFsiFsiFsiFsiAtkQtkQtkQtkQtkQtkQtkQtkQtkQtkQtkQtkQtkQtkQtgiFsiFsiFsiFsiFsiFsiFsEQtkQtkQ8p45JK5f94tkQtkQtkQtkQtkQtsFc+PevoPnPA9H8vRC2RC2RAWyIWyIW2o+ON5FsiGiWaNoIhbIhbIgLZExHqX9R8p9TxMvID6j5THl71/yn1Hy7U5ntkQtkQt6q647MlImlImlImlImmuWdttohbBELequI96y2RC2RC2RC2RDSn3e20QtgiFvVbUfKx9h8Z9h8Z9h8Z9h8ZjDaTbaIWyIWyJ5DBFXU7M3tiqSiqSiqSjyuA9u5WcPbWyIC2RC3zQ2zzCWyIWyIWyIY50e6hRC2RAWyIW+aG2eYS2RC2RC2RDHOj3UKIWyIWyIWyJzi2l2TIhbIhbIhbMA6Z9L7ZELYIhbInOLaXZMieW1v3UIWlG6XojTbPXtLZgHTPpfbIhbBELZE5xbS7JkTE2jvVY87yP6weyOXm3Ob7ZgHTPpfbIhbIhbIhb5obZ5hLeKNBemxY44df/AJzm/uNnWIY50e6hRC2RAWyIW+aG2eYS3ijQXpsWOOHX/wCc5v7jZ1iGOdHuoUQtkQFsiFvmhtnmEt4o0F6bFjjh1/8AnOb+42dYhjnR7qFELZELZELZE5xbS7JkTE2jvVY87yP6weyOXm3Ob7ZgHTPpfbIhbBELZE5xbS7JkTE2jvVY87yP6weyOXm3Ob7ZgHTPpfbIhbBELZE5xbS7JkTE2jvVY87yP6weyOXm3Ob7ZgHTPpfbIhbIhbIhb5obZ5hLeKNBemxY44df/nOb+42dYhjnR7qFELZEBbIhb5obZ5hLeKNBemxY44df/nOb+42dYhjnR7qFELZEBbIhb5obZ5hLeKNBemxY44df/nOb+42dYhjnR7qFELZELZELZE5xbS7JkTE2jvVY87yP6weyOXm3Ob7ZgHTPpfbIhbBELZE5xbS7JkTE2jvVY87yP6weyOXm3Ob7ZgHTPpfbIhbBELZE5xbS7JkTE2jvVY87yP6weyOXm3Ob7ZgHTPpfbIhbIhbIhb5obZ5hLeKNBemxY44df/nOb+42dYhjnR7qFELZEBbIhb5obZ5hLeKNBemxY44df/nOb+42dYhjnR7qFELZEBbIhb5obZ5hLeIdDOmxa43dfv8AA5wbjZ0iGOdHuoUQtkQtkQtkTnFtLsmRJ2LM/kTBmcrhgbI9e2YB0z6X2yIWwRC2ROcW0uyZELZELZELZgHTPpfbIhbBELZE5xbS7JkQtkQtkQtmAdM+l9siFsiFsiFvnN6zdH9WyIWyIWyIaf4u6WRC2RAWyIW/Mczc47mftsiFsiFsiNRNcemXsohbIgLZELbyvMj3Fz7D4z7D4z7D45WN+mft0QtkQtkQtkQ+DX3+5JWJJWJJWZztlsiFsEQtkQtkQtkQtkQtkQtkQtgiFsiFsiFsiFsiFsiFsiFsiFsiFsiFsiFsiFsiFsiFsiAtkQtkQtkQtkQtkQtkQtkQFsiFsiFsiFsiFsiFsiFsiH//xAAuEAAABQMEAQIGAgMBAAAAAAAABQYHNwQIGAEDIEACMzUWFyQwNDYQESFQcCb/2gAIAQEAAQgA/wC5qd20AkN/zpDXxuVaoZJtQMiWxGRLYjIlsRkm1AyTagZJtQEy5qIV27psFH+iuAXdeikbs+BYTEZ2qDHSjKvke6Q+R7pD5CO0PkI7Q+QjtD5HukPke6Q1Y90QZlZ4lTbzozBjVzVrlDbFUYf6G7r/AAXIoWvft599m6WTPAWo/wCESo+w8jgVrfJnYqy/IRzxkg64yQdcZIOuMhHPGQjnjIRzxkg64yQdcLRzFcv9qg2lAkVqoEPXVNaR5COeMhHPGSDrjJB1xkg64yEc8ZCOeMhHPCtWJ6uDXxNTxHOqs0HQ1NAQZIOuMhHPGQjnjIRzxkg64yQdcZIOuMhHPDKOMYuCRV/mafeux/VUsGVQxM4Ku3ig4xpb0Y0t6MaW9GLzbDF5thi82wxpb0Y0t6MaW9GLzbDF5thi82wxpb0Y0t6MaW9GLzbDF5thi82wxpb0Y0t6MaW9GLzbDF5thi82wxpb0Y0t6MaW9D4IAjbtRFZcTWi+2rT792P6qlha3JFR3Lsf3giFovtq0+/djp/SUSwQa7Nm9Otw4Ksm12Mm12Mm12MqF+MqF+MqF+Mm12Mm12Mm12MqF+MqF+MqF+Mm12Mm12Mm12MqF+MqF+MqF+Mm12Mm12Mm12MqF+MqF+MqF+Mm12Mm12Mm12HAcI5cYzozI2tF9tWn31siiZeEnmUGuLJAMRyAOSkqdDrI2T9M1DCFDiJLaParFkgGLJAMWSAYjkAxHIBiOQDFkgGLJAMWSAYjkAxHIBiOQDFkgGLJAMWSAYjkAxHIBiOQDFkgGLJAMWSAOZb0ToRGmigpkCm9hYK8iIKjEcgGLJAEGgiVvifyLSvo3ByyqRbPFdN1rjIlUQY+VkV1bg5ZVItnium61xkSqIMfKyK6r8SipBbjGtP1n8i5QBmpOSHVfiUVILcY1p+K0Uvgj0ucHvm2z/qFQq+gJjv+fPz02/Dy89am5lR+Ci8/PZpajbrKWmqdr+XVfc/SysqSIib5XeK4SZWecX8i5QBmpOSHVfiUVILcY1p+L4xcqQ1MkIzhVfi1I3/X3gn/AGEk4PbKCrFvMYFfF/IuUAZqTkh1bg5ZVItnium43AxSqQ0UmIjhU6fRVeoqPX3wn9dPh1O8H4lhYC26KSvjcZEqiDHysiurcHLKpFs8V03G4GKVSGikxEcKnT6Kr1FR6++E/rp8Op3g/EsLAW3RSV8bjIlUQY+VkV1bg5ZVItnium43AxSqQ0UmIjhU6fRVeoqPX3wn9dPh1O8H4lhYC26KSvjcZEqiDHysiuq/EoqQW4xrT8Xxi5UhqZIRnCq/FqRv+vvBP+wknB7ZQVYt5jAr4v5FygDNSckOq/EoqQW4xrT8Xxi5UhqZIRnCq/FqRv8Ar7wT/sJJwe2UFWLeYwK+L+RcoAzUnJDqvxKKkFuMa0/F8YuVIamSEZwqvxakb/r7wT/sJJwe2UFWLeYwK+L+RcoAzUnJDq3ByyqRbPFdNxuBilUhopMRHCp0+iq9RUevvhP66fDqd4PxLCwFt0UlfG4yJVEGPlZFdW4OWVSLZ4rpuNwMUqkNFJiI4VOn0VXqKj198J/XT4dTvB+JYWAtuikr43GRKogx8rIrq3ByyqRbPFdNxuBilUhopMRHCp0+iq9RUevvhP66fDqd4PxLCwFt0UlfG4yJVEGPlZFdV+JRUgtxjWn4vjFypDUyQjOFV+LUjf8AX3gn/YSTg9soKsW8xgV8X8i5QBmpOSHVfiUVILcY1p+L4xcqQ1MkIzhVfi1I3/X3gn/YSTg9soKsW8xgV8X8i5QBmpOSHVfiUVILcY1p+L4xcqQ1MkIzhVfi1I3/AF94J/2Ek4PbKCrFvMYFfF/IuUAZqTkh1bg5ZVItnium43AxSqQ0UmIjhU6fRVeoqPX3wn9dPh1O8H4lhYC26KSvjcZEqiDHysiurcHLKpFs8V03G4GKVSGikxEcKnT6Kr1FR6++E/rp8Op3g/EsLAW3RSV8bjIlUQY+VkV1bg5ZVItnium4v1FKsDRSaiOFX/WtFVCo9ffCf1/8+QacH4lhYC2+KSvjcZEqiDHysiuq/EoqQW4xrT8TYpoDwsrSswRzHo5GHehzS8N+3tA76h8jjy8fHx8PHx8fH+VuyqSXRt4G1aQkZYmymiKSzg/kXKAM1JyQ6r8SipBbjGtP1n8i5QBmpOSHVfiUVILcY1p+s/kXKAM1JyQ6tx5GZlzkmRhUW+PBQpf+kmfePlp5aaa6dS4N4qE32KpFETAkpiaOYn6ml6iwRxIuSKpJzhw29O26Pd0sMWSenWh8qVLqbTXTXTTXTpPa9P5SWS6GQ54vzzZKSpCoYjQJHsFRV1VmjCNdENQTnC6QxygTvcLDJOP4uk0UUpVt5NL4ZTuKMp3FGU7ijJpfDJpfDJpfDKdxRlO4oyncUZNL4ZNL4ZNL4ZTuKMp3FGU7ijJpfA8uEXx4VVZdqjkedLg72CorQSDI2+I9orK+utEQQLsk3ik5xMTAxIToxaTgxaTgxaTgxIToxIToxIToxaTgxaTgxaTgxIToxIToxIToxaTgxaTgxaTgxIToxITIQiCIG9KdC0n/AO2//8QAPBAAAAQDBQYDBwIFBQEAAAAAAAIDBAEFsyBTVJPSBhFAVZSxElJkEyExM0FRsjByFDJQcHEVIiRCYWP/2gAIAQEACT8A/vntEjB2X+duhAy6hf3QT37g+edIcTJ/0ZxMHnSHEwedIcTB50hxMn/RnEyf9GcTN/0ZxPkVHMfg3UhFJWP+Cn/oasUn80Wi2SWh8UiQhvOcoYrvnim88SEh4jf+mNGPeI2VVz0dY2VVz0dY2QWzkdY2QWzkdY2QWzkdY2VVz0dY2VVz0dY2UVzkdYaOJfMWxim8Bt6ahI/EpoR7RgD+OYMlzM3Cv1ViSG8p/wChYh32KOVRql/R5S27nHN4UicQimd88cwQQMp7yJ+6JjHE3bdKkJ236VMTtv0qYnbfpUxN23SpCbtulSE3bdKkJ236VMTtv0qYfJrlaGOZHwIlT3RU/aHREV1kfYnidMqm8m/f8DCbtulSE3bdKkJ236VMTtv0qYnbfpUxN23SpCbtulSE3bdKkHJFncESowMRMqcPAT4e4ofpIILr+3OU6JFN590C/EwnbfpUxN23SpCbtulSE3bdKkJ236VMTtv0qYnbfpUxN23SpBJOD5guUh1E4eEqhTw3wNu/X5menEKOCNisFV96B4EN4iGKHE1zy6A4mueXQHE1zy6A6m+eTSHU3zyaQ6m+eTSHE1zy6A4mueXQHE1zy6A6m+eTSHU3zyaQ6m+eTSHE1zy6A4mueXQHE1zy6A6m+eTSHU3zyaQ6m+eTSHE1zy6A4mueXQHE1zy6A6m+eTSHU3zyaQ6m+eTSHE1zy6A4mueXQHE1zy6AdydBdhBc8VzwObx+MxRiWvY36/Mz04jlK/5k4zlBapxiWvY36/Mz0wg2VcHbHQiVwWJieE8YR+kYCXSnKU1iXSnKU1iXSnKU1iVybJPrErk2SfWJXJsk+sS6U5SmsS6U5SmsS6U5SmsSuTZJ9YlcmyT6xK5Nkn1iXSnKU1iXSnKU1iXSnKU1iVybJPrErk2SfWJXJsk+sS6U5SmsS6U5SmsS6U5SmsSuTZJ9YlcmyT6xK5Nkn1iXSnKU1iXSnKU1iXSnKU1hBsks3bwbkg3JEpfDA0TfWMRiWvY368DwJ44KJKp+46ShfqUbUv8AKINrX+SQO1HCTT2W5VSEIGj4yQP9BP3TRQzpZGKSZCRLuTG1T/JINqn+SQbVP8kg2tf5JBta/wAkg2tf5JBtU/ySDap/kkG1T/JINrX+SQbWv8kg2tf5JBtU/wAkg2qf5JBtU/ySDa1/kkG1r/JINrX+SQbVP8kg2qf5JBtU/wAkg2idulWpkYQSOmSBY+0PAgcnbpPl/ZmVJCETEhAsTDa1/kkG1L/KIPaH9qf2i66vvOqfgvT0SDmbvhrxrWKMbGmbhfT0SDmbvhrxrWKMbGmbhfTUSjHuuG87asUYuP4G4X01Eox7qyh7b+ES8RUvh4jGj4SwDJpFtMFYpJHQIYhkj2I+4sIxj/iEN4lTT/RiLxL7CMI+2il+/wA4+WsmRQn7Tw32GbWBGPg9uq4JE8VDmLAwb+wUWgcqqUI74FUTN4TbrPnbVijFx/A3C+molGPdWbtGqUczRsXZ+w85hgW9OFi+SpFGKdVLPnbVijFx/A3C+nokHM3dm6RrEHNEbF0p2F4buOXNqZbGITpFGMdVLN41rFGNjTNwvp6JBzN3ZukaxBzRGxdKdheG7jlzamWxiE6RRjHVSzeNaxRjY0zcL6eiQczd2bpGsQc0RsXSnYXhu45c2plsYhOkUYx1Us3jWsUY2NM3C+molGPdWbtGqUczRsXZ+w85hgW9OFi+SpFGKdVLPnbVijFx/A3C+molGPdWbtGqUczRsXZ+w85hgW9OFi+SpFGKdVLPnbVijFx/A3C+molGPdWbtGqUczRsXZ+w85hgW9OFi+SpFGKdVLPnbVijFx/A3C+nokHM3dm6RrEHNEbF0p2F4buOXNqZbGITpFGMdVLN41rFGNjTNwvp6JBzN3ZukaxBzRGxdKdheG7jlzamWxiE6RRjHVSzeNaxRjY0zcL6eiQczd2bpGsQc0RsXSnYXhu45c2plsYhOkUYx1Us3jWsUY2NM3C+molGPdWbtGqUczRsXZ+w85hgW9OFi+SpFGKdVLPnbVijFx/A3C+molGPdWbtGqUczRsXZ+w85hgW9OFi+SpFGKdVLPnbVijFx/A3C+molGPdWbtGqUczRsXZ+w85hgW9OFi+SpFGKdVLPnbVijFx/A3C+nokHM3dm6RrEHNEbF0p2F4buOXNqZbGITpFGMdVLN41rFGNjTNwvp6JBzN3ZukaxBzRGxdKdheG7jlzamWxiE6RRjHVSzeNaxRjY0zcL6eiQczd2btGsQczRsXJ+w85u4hHfCXtqRbGITpFGKdVbN41rFGNjTNwvpqJRj3VlCCzR0lFJYkfqWIO7cuU/F/DwcHKYqO+yR1BMy0VjMYHhBCJ9ILuLCEIQhD7QsHdNnm4pFjtjlh7aBfvA0IhvBFm1T8CZN++P+Yxj8Yxs+dtWKMXH8DcL6aiUY91w3nbVijFx/A3C+molGPdcN521YoxcfwNwrY0GkxTQUbLf9D+BOBDDwIy1yvE7V3cqn+igjvhGEN0Yd4cLEi7Yqpf4959DHSj8tINjnQYHM4dK/QhPBGHCt4HRP7yKQ+YkpD4HTiE4nQPvM0dwhuIun9yh3/xfcRi9PH5X/yUHvhwbv7kfvk6KQR+xnDg3y0E/qc4R+xnC5vmLqfUx+Gb7yH3mRWL8xFT6HJEJ7yR3mbOS/LXT+8BFm7Sbw3JHdEMdSBfoXfA0AwlGSprDGUZKusMZRkq6wxlGSrrDCUZKmsMJRkqawwlGSprDGUZKusMZRkq6wxlGSrrDCUZKmsMJRkqawwlGSprDGUZKusMZRkq6wxlGSrrDCUZKmsRZMyuC+A6zVMxFYF+xTRNEIxMc24yy0f5EU/qc8QjvNHcZy5N8xdTzm4htE5N/iSWJugqifzEMNrJllJDauYZaY2omOWmNqJjlpjaiY5aY2rmGWmNq5hlpjauYZaY2omOWmNqJjlpjaiY5aY2rmGWmNq5hlpjauYZaY2omOWmNqJjlpjaiY5aY2rmGWmNrpjlJBE3+43iXcKe9Vc33PH+93//2Q==",Dt="data:image/png;base64,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",Ft=a(9181),Ut={name:"AdminOverview",components:{AdminNavbar:Ft.A,ActivityModal:St},data(){return{activities:[],showModal:!1,editingActivity:null,trashIcon:Tt,editIcon:Dt,locations:[],currentUserId:""}},methods:{fetchActivities(e="all"){let t="/activities/";"current"===e?t="/activities/current/":"future"===e&&(t="/activities/future/"),D.A.get(t).then((e=>{this.activities=e.data.map((e=>({...e,startDate:e.startDate||new Date,endDate:e.endDate||new Date,timeSlots:e.timeSlots||[]})))})).catch((t=>{console.error(`There was an error fetching the ${e} activities:`,t)}))},handleActivityAdded(){this.fetchActivities(),this.showModal=!1,this.editingActivity=null},handleModalClose(){this.showModal=!1,this.editingActivity=null},confirmDelete(e){window.confirm("Are you sure you want to delete this activity?")&&this.deleteActivity(e)},deleteActivity(e){D.A.delete(`/activities/${e}`).then((()=>{this.activities=this.activities.filter((t=>t._id!==e)),alert("Activity deleted successfully.")})).catch((e=>{console.error("There was an error deleting the activity:",e)}))},editActivity(e){this.editingActivity=e,this.showModal=!0},goToActivityDetail(e){this.$router.push({name:"ActivityDetail",params:{activityId:e}})},prepareNewActivity(){this.editingActivity=null,this.showModal=!0},getLocationName(e){const t=this.locations.find((t=>t._id===e));return t?t.name:"Unknown"},fetchLocations(){D.A.get("/locations").then((e=>{this.locations=e.data})).catch((e=>{console.error("Error fetching locations:",e)}))},handleActivityUpdated(){this.fetchActivities()}},created(){this.fetchActivities(),this.fetchLocations(),this.currentUserId=localStorage.getItem("user-id")}};const Nt=(0,s.A)(Ut,[["render",Ne],["__scopeId","data-v-284609eb"]]);var Mt=Nt;const xt=e=>((0,n.Qi)("data-v-1782143a"),e=e(),(0,n.jt)(),e),Qt={class:"admin-user-overview"},Pt=xt((()=>(0,n.Lk)("h1",null,"User Administration",-1))),Bt={class:"controls"},Vt={class:"filter-section"},Xt=xt((()=>(0,n.Lk)("option",{value:""},"All Roles",-1))),qt=xt((()=>(0,n.Lk)("option",{value:"admin"},"Admin",-1))),Wt=xt((()=>(0,n.Lk)("option",{value:"parent"},"Parent",-1))),Ot=xt((()=>(0,n.Lk)("option",{value:"teacher"},"Teacher",-1))),jt=[Xt,qt,Wt,Ot],Rt={key:0,class:"modal"},Ht={class:"modal-content"},Yt=xt((()=>(0,n.Lk)("h2",null,"Add Parent",-1))),Jt={class:"form-group"},Gt=xt((()=>(0,n.Lk)("label",{for:"firstName"},"First Name",-1))),zt={class:"form-group"},Kt=xt((()=>(0,n.Lk)("label",{for:"lastName"},"Last Name",-1))),Zt={class:"form-group"},_t=xt((()=>(0,n.Lk)("label",{for:"address.street"},"Street",-1))),$t={class:"form-group"},ea=xt((()=>(0,n.Lk)("label",{for:"address.city"},"City",-1))),ta={class:"form-group"},aa=xt((()=>(0,n.Lk)("label",{for:"address.zipCode"},"Zip Code",-1))),ia={class:"form-group"},na=xt((()=>(0,n.Lk)("label",{for:"phone"},"Phone",-1))),oa={class:"form-group"},ra=xt((()=>(0,n.Lk)("label",{for:"email"},"Email",-1))),sa={class:"form-group"},la=xt((()=>(0,n.Lk)("label",{for:"password"},"Password",-1))),da=xt((()=>(0,n.Lk)("button",{type:"submit",class:"submit-btn"},"Add Parent",-1))),ca={key:1,class:"modal"},ua={class:"modal-content"},ha=xt((()=>(0,n.Lk)("h2",null,"Add Teacher",-1))),ma={class:"form-group"},pa=xt((()=>(0,n.Lk)("label",{for:"firstName"},"First Name",-1))),va={class:"form-group"},ka=xt((()=>(0,n.Lk)("label",{for:"lastName"},"Last Name",-1))),ga={class:"form-group"},Aa=xt((()=>(0,n.Lk)("label",{for:"address.street"},"Street",-1))),ba={class:"form-group"},ya=xt((()=>(0,n.Lk)("label",{for:"address.city"},"City",-1))),fa={class:"form-group"},La=xt((()=>(0,n.Lk)("label",{for:"address.zipCode"},"Zip Code",-1))),wa={class:"form-group"},Ca=xt((()=>(0,n.Lk)("label",{for:"phone"},"Phone",-1))),Ia={class:"form-group"},Ea=xt((()=>(0,n.Lk)("label",{for:"email"},"Email",-1))),Sa={class:"form-group"},Ta=xt((()=>(0,n.Lk)("label",{for:"password"},"Password",-1))),Da=xt((()=>(0,n.Lk)("button",{type:"submit",class:"submit-btn"},"Add Teacher",-1))),Fa={key:2,class:"modal"},Ua={class:"modal-content"},Na=xt((()=>(0,n.Lk)("h2",null,"Edit Parent",-1))),Ma={class:"form-group"},xa=xt((()=>(0,n.Lk)("label",{for:"firstName"},"First Name",-1))),Qa={class:"form-group"},Pa=xt((()=>(0,n.Lk)("label",{for:"lastName"},"Last Name",-1))),Ba={class:"form-group"},Va=xt((()=>(0,n.Lk)("label",{for:"email"},"Email",-1))),Xa={class:"form-group"},qa=xt((()=>(0,n.Lk)("label",{for:"password"},"Password",-1))),Wa=xt((()=>(0,n.Lk)("button",{type:"submit",class:"submit-btn"},"Update Parent",-1))),Oa={key:3,class:"modal"},ja={class:"modal-content"},Ra=xt((()=>(0,n.Lk)("h2",null,"Edit Teacher",-1))),Ha={class:"form-group"},Ya=xt((()=>(0,n.Lk)("label",{for:"firstName"},"First Name",-1))),Ja={class:"form-group"},Ga=xt((()=>(0,n.Lk)("label",{for:"lastName"},"Last Name",-1))),za={class:"form-group"},Ka=xt((()=>(0,n.Lk)("label",{for:"email"},"Email",-1))),Za={class:"form-group"},_a=xt((()=>(0,n.Lk)("label",{for:"password"},"Password",-1))),$a=xt((()=>(0,n.Lk)("button",{type:"submit",class:"submit-btn"},"Update Teacher",-1))),ei={key:4,class:"modal"},ti={class:"modal-content"},ai=xt((()=>(0,n.Lk)("h2",null,"Edit Admin",-1))),ii={class:"form-group"},ni=xt((()=>(0,n.Lk)("label",{for:"firstName"},"First Name",-1))),oi={class:"form-group"},ri=xt((()=>(0,n.Lk)("label",{for:"lastName"},"Last Name",-1))),si={class:"form-group"},li=xt((()=>(0,n.Lk)("label",{for:"email"},"Email",-1))),di={class:"form-group"},ci=xt((()=>(0,n.Lk)("label",{for:"password"},"Password",-1))),ui=xt((()=>(0,n.Lk)("button",{type:"submit",class:"submit-btn"},"Update Admin",-1))),hi=xt((()=>(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"Name"),(0,n.Lk)("th",null,"Role"),(0,n.Lk)("th",null,"Actions")])],-1))),mi=["onClick"];function pi(e,t,a,o,r,s){const l=(0,n.g2)("admin-navbar"),d=(0,n.g2)("q-icon");return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.bF)(l,{userId:r.currentUserId},null,8,["userId"]),(0,n.Lk)("div",Qt,[Pt,(0,n.Lk)("div",Bt,[(0,n.Lk)("button",{class:"add-btn",onClick:t[0]||(t[0]=e=>r.showAddParentModal=!0)},"Add Parent"),(0,n.Lk)("button",{class:"add-btn",onClick:t[1]||(t[1]=e=>r.showAddTeacherModal=!0)},"Add Teacher"),(0,n.Lk)("div",Vt,[(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>r.filterRole=e)},jt,512),[[i.u1,r.filterRole]])])]),r.showAddParentModal?((0,n.uX)(),(0,n.CE)("div",Rt,[(0,n.Lk)("div",Ht,[(0,n.Lk)("span",{class:"close",onClick:t[3]||(t[3]=e=>r.showAddParentModal=!1)},"×"),Yt,(0,n.Lk)("form",{onSubmit:t[12]||(t[12]=(0,i.D$)(((...e)=>s.addParent&&s.addParent(...e)),["prevent"]))},[(0,n.Lk)("div",Jt,[Gt,(0,n.bo)((0,n.Lk)("input",{type:"text",id:"firstName","onUpdate:modelValue":t[4]||(t[4]=e=>r.parent.firstName=e),required:""},null,512),[[i.Jo,r.parent.firstName]])]),(0,n.Lk)("div",zt,[Kt,(0,n.bo)((0,n.Lk)("input",{type:"text",id:"lastName","onUpdate:modelValue":t[5]||(t[5]=e=>r.parent.lastName=e),required:""},null,512),[[i.Jo,r.parent.lastName]])]),(0,n.Lk)("div",Zt,[_t,(0,n.bo)((0,n.Lk)("input",{type:"text",id:"address.street","onUpdate:modelValue":t[6]||(t[6]=e=>r.parent.address.street=e),required:""},null,512),[[i.Jo,r.parent.address.street]])]),(0,n.Lk)("div",$t,[ea,(0,n.bo)((0,n.Lk)("input",{type:"text",id:"address.city","onUpdate:modelValue":t[7]||(t[7]=e=>r.parent.address.city=e),required:""},null,512),[[i.Jo,r.parent.address.city]])]),(0,n.Lk)("div",ta,[aa,(0,n.bo)((0,n.Lk)("input",{type:"text",id:"address.zipCode","onUpdate:modelValue":t[8]||(t[8]=e=>r.parent.address.zipCode=e),required:""},null,512),[[i.Jo,r.parent.address.zipCode]])]),(0,n.Lk)("div",ia,[na,(0,n.bo)((0,n.Lk)("input",{type:"text",id:"phone","onUpdate:modelValue":t[9]||(t[9]=e=>r.parent.phone=e),required:""},null,512),[[i.Jo,r.parent.phone]])]),(0,n.Lk)("div",oa,[ra,(0,n.bo)((0,n.Lk)("input",{type:"email",id:"email","onUpdate:modelValue":t[10]||(t[10]=e=>r.parent.email=e),required:""},null,512),[[i.Jo,r.parent.email]])]),(0,n.Lk)("div",sa,[la,(0,n.bo)((0,n.Lk)("input",{type:"password",id:"password","onUpdate:modelValue":t[11]||(t[11]=e=>r.parent.password=e),required:""},null,512),[[i.Jo,r.parent.password]])]),da],32)])])):(0,n.Q3)("",!0),r.showAddTeacherModal?((0,n.uX)(),(0,n.CE)("div",ca,[(0,n.Lk)("div",ua,[(0,n.Lk)("span",{class:"close",onClick:t[13]||(t[13]=e=>r.showAddTeacherModal=!1)},"×"),ha,(0,n.Lk)("form",{onSubmit:t[22]||(t[22]=(0,i.D$)(((...e)=>s.addTeacher&&s.addTeacher(...e)),["prevent"]))},[(0,n.Lk)("div",ma,[pa,(0,n.bo)((0,n.Lk)("input",{type:"text",id:"firstName","onUpdate:modelValue":t[14]||(t[14]=e=>r.teacher.firstName=e),required:""},null,512),[[i.Jo,r.teacher.firstName]])]),(0,n.Lk)("div",va,[ka,(0,n.bo)((0,n.Lk)("input",{type:"text",id:"lastName","onUpdate:modelValue":t[15]||(t[15]=e=>r.teacher.lastName=e),required:""},null,512),[[i.Jo,r.teacher.lastName]])]),(0,n.Lk)("div",ga,[Aa,(0,n.bo)((0,n.Lk)("input",{type:"text",id:"address.street","onUpdate:modelValue":t[16]||(t[16]=e=>r.teacher.address.street=e),required:""},null,512),[[i.Jo,r.teacher.address.street]])]),(0,n.Lk)("div",ba,[ya,(0,n.bo)((0,n.Lk)("input",{type:"text",id:"address.city","onUpdate:modelValue":t[17]||(t[17]=e=>r.teacher.address.city=e),required:""},null,512),[[i.Jo,r.teacher.address.city]])]),(0,n.Lk)("div",fa,[La,(0,n.bo)((0,n.Lk)("input",{type:"text",id:"address.zipCode","onUpdate:modelValue":t[18]||(t[18]=e=>r.teacher.address.zipCode=e),required:""},null,512),[[i.Jo,r.teacher.address.zipCode]])]),(0,n.Lk)("div",wa,[Ca,(0,n.bo)((0,n.Lk)("input",{type:"text",id:"phone","onUpdate:modelValue":t[19]||(t[19]=e=>r.teacher.phone=e),required:""},null,512),[[i.Jo,r.teacher.phone]])]),(0,n.Lk)("div",Ia,[Ea,(0,n.bo)((0,n.Lk)("input",{type:"email",id:"email","onUpdate:modelValue":t[20]||(t[20]=e=>r.teacher.email=e),required:""},null,512),[[i.Jo,r.teacher.email]])]),(0,n.Lk)("div",Sa,[Ta,(0,n.bo)((0,n.Lk)("input",{type:"password",id:"password","onUpdate:modelValue":t[21]||(t[21]=e=>r.teacher.password=e),required:""},null,512),[[i.Jo,r.teacher.password]])]),Da],32)])])):(0,n.Q3)("",!0),r.showEditModal?((0,n.uX)(),(0,n.CE)("div",Fa,[(0,n.Lk)("div",Ua,[(0,n.Lk)("span",{class:"close",onClick:t[23]||(t[23]=e=>r.showEditModal=!1)},"×"),Na,(0,n.Lk)("form",{onSubmit:t[28]||(t[28]=(0,i.D$)(((...e)=>s.updateParent&&s.updateParent(...e)),["prevent"]))},[(0,n.Lk)("div",Ma,[xa,(0,n.bo)((0,n.Lk)("input",{type:"text",id:"firstName","onUpdate:modelValue":t[24]||(t[24]=e=>r.editedParent.firstName=e),required:""},null,512),[[i.Jo,r.editedParent.firstName]])]),(0,n.Lk)("div",Qa,[Pa,(0,n.bo)((0,n.Lk)("input",{type:"text",id:"lastName","onUpdate:modelValue":t[25]||(t[25]=e=>r.editedParent.lastName=e),required:""},null,512),[[i.Jo,r.editedParent.lastName]])]),(0,n.Lk)("div",Ba,[Va,(0,n.bo)((0,n.Lk)("input",{type:"email",id:"email","onUpdate:modelValue":t[26]||(t[26]=e=>r.editedParent.email=e),required:""},null,512),[[i.Jo,r.editedParent.email]])]),(0,n.Lk)("div",Xa,[qa,(0,n.bo)((0,n.Lk)("input",{type:"password",id:"password","onUpdate:modelValue":t[27]||(t[27]=e=>r.editedParent.password=e),required:""},null,512),[[i.Jo,r.editedParent.password]])]),Wa],32)])])):(0,n.Q3)("",!0),r.showEditTeacherModal?((0,n.uX)(),(0,n.CE)("div",Oa,[(0,n.Lk)("div",ja,[(0,n.Lk)("span",{class:"close",onClick:t[29]||(t[29]=e=>r.showEditTeacherModal=!1)},"×"),Ra,(0,n.Lk)("form",{onSubmit:t[34]||(t[34]=(0,i.D$)(((...e)=>s.updateTeacher&&s.updateTeacher(...e)),["prevent"]))},[(0,n.Lk)("div",Ha,[Ya,(0,n.bo)((0,n.Lk)("input",{type:"text",id:"firstName","onUpdate:modelValue":t[30]||(t[30]=e=>r.editedTeacher.firstName=e),required:""},null,512),[[i.Jo,r.editedTeacher.firstName]])]),(0,n.Lk)("div",Ja,[Ga,(0,n.bo)((0,n.Lk)("input",{type:"text",id:"lastName","onUpdate:modelValue":t[31]||(t[31]=e=>r.editedTeacher.lastName=e),required:""},null,512),[[i.Jo,r.editedTeacher.lastName]])]),(0,n.Lk)("div",za,[Ka,(0,n.bo)((0,n.Lk)("input",{type:"email",id:"email","onUpdate:modelValue":t[32]||(t[32]=e=>r.editedTeacher.email=e),required:""},null,512),[[i.Jo,r.editedTeacher.email]])]),(0,n.Lk)("div",Za,[_a,(0,n.bo)((0,n.Lk)("input",{type:"password",id:"password","onUpdate:modelValue":t[33]||(t[33]=e=>r.editedTeacher.password=e),required:""},null,512),[[i.Jo,r.editedTeacher.password]])]),$a],32)])])):(0,n.Q3)("",!0),r.showEditAdminModal?((0,n.uX)(),(0,n.CE)("div",ei,[(0,n.Lk)("div",ti,[(0,n.Lk)("span",{class:"close",onClick:t[35]||(t[35]=e=>r.showEditAdminModal=!1)},"×"),ai,(0,n.Lk)("form",{onSubmit:t[40]||(t[40]=(0,i.D$)(((...e)=>s.updateAdmin&&s.updateAdmin(...e)),["prevent"]))},[(0,n.Lk)("div",ii,[ni,(0,n.bo)((0,n.Lk)("input",{type:"text",id:"firstName","onUpdate:modelValue":t[36]||(t[36]=e=>r.editedAdmin.firstName=e),required:""},null,512),[[i.Jo,r.editedAdmin.firstName]])]),(0,n.Lk)("div",oi,[ri,(0,n.bo)((0,n.Lk)("input",{type:"text",id:"lastName","onUpdate:modelValue":t[37]||(t[37]=e=>r.editedAdmin.lastName=e),required:""},null,512),[[i.Jo,r.editedAdmin.lastName]])]),(0,n.Lk)("div",si,[li,(0,n.bo)((0,n.Lk)("input",{type:"email",id:"email","onUpdate:modelValue":t[38]||(t[38]=e=>r.editedAdmin.email=e),required:""},null,512),[[i.Jo,r.editedAdmin.email]])]),(0,n.Lk)("div",di,[ci,(0,n.bo)((0,n.Lk)("input",{type:"password",id:"password","onUpdate:modelValue":t[39]||(t[39]=e=>r.editedAdmin.password=e),required:""},null,512),[[i.Jo,r.editedAdmin.password]])]),ui],32)])])):(0,n.Q3)("",!0),(0,n.Lk)("table",null,[hi,(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(s.filteredUsers,(e=>((0,n.uX)(),(0,n.CE)("tr",{key:e._id,onClick:t=>s.navigateToUser(e._id),style:{cursor:"pointer"}},[(0,n.Lk)("td",null,(0,h.v_)(e.firstName)+" "+(0,h.v_)(e.lastName),1),(0,n.Lk)("td",null,(0,h.v_)(e.role),1),(0,n.Lk)("td",null,[["parent","teacher","admin"].includes(e.role)?((0,n.uX)(),(0,n.Wv)(d,{key:0,name:"edit",onClick:(0,i.D$)((t=>s.openEditModal(e)),["stop"]),class:"edit-icon"},null,8,["onClick"])):(0,n.Q3)("",!0),r.isAdmin?((0,n.uX)(),(0,n.Wv)(d,{key:1,name:"delete",onClick:(0,i.D$)((t=>s.deleteUser(e._id)),["stop"]),class:"delete-icon"},null,8,["onClick"])):(0,n.Q3)("",!0)])],8,mi)))),128))])])])],64)}var vi=a(3870),ki={name:"AdminUserOverview",components:{AdminNavbar:Ft.A,QIcon:vi.A},data(){return{currentUserId:"",users:[],parent:{firstName:"",lastName:"",address:{street:"",city:"",zipCode:""},phone:"",email:"",password:"",role:"parent"},teacher:{firstName:"",lastName:"",address:{street:"",city:"",zipCode:""},phone:"",email:"",password:"",role:"teacher"},filterRole:"",editedParent:{},editedTeacher:{},editedAdmin:{},showEditTeacherModal:!1,showEditAdminModal:!1,showAddParentModal:!1,showAddTeacherModal:!1,showEditModal:!1,isAdmin:!1}},created(){this.currentUserId=localStorage.getItem("user-id")},computed:{filteredUsers(){return this.filterRole?this.users.filter((e=>e.role===this.filterRole)):this.users}},mounted(){this.fetchUsers(),this.checkAdminStatus()},methods:{async fetchUsers(){try{const e=await D.A.get("users");this.users=e.data}catch(e){console.error("There was an error fetching the users:",e.message)}},checkAdminStatus(){this.isAdmin=!0},navigateToUser(e){this.$router.push({name:"UserDetail",params:{userId:e}})},async addParent(){try{const e=await D.A.post("users/parents",this.parent);console.log("New parent added:",e.data),this.users.push(e.data),this.resetParentForm(),this.showAddParentModal=!1,this.fetchUsers()}catch(e){console.error("Error adding parent:",e.message)}},resetParentForm(){this.parent={firstName:"",lastName:"",address:{street:"",city:"",zipCode:""},phone:"",email:"",password:"",role:"parent"}},async addTeacher(){try{this.teacher.role="teacher";const e=await D.A.post("users/teachers",this.teacher);console.log("New teacher added:",e.data),this.users.push(e.data),this.resetTeacherForm(),this.showAddTeacherModal=!1,this.fetchUsers()}catch(e){console.error("Error adding teacher:",e.message)}},resetTeacherForm(){this.teacher={firstName:"",lastName:"",email:"",password:""}},openEditModal(e){switch(e.role){case"parent":this.editedParent={...e},this.showEditModal=!0;break;case"teacher":this.editedTeacher={...e},this.showEditTeacherModal=!0;break;case"admin":this.editedAdmin={...e},this.showEditAdminModal=!0;break}},async updateAdmin(){try{const e=await D.A.put(`users/admins/${this.editedAdmin._id}`,this.editedAdmin);console.log("Admin updated:",e.data),this.showEditAdminModal=!1,this.fetchUsers()}catch(e){console.error("Error updating admin:",e.message)}},async updateParent(){try{const e=await D.A.put(`users/parents/${this.editedParent._id}`,this.editedParent);console.log("Parent updated:",e.data),this.showEditModal=!1,this.fetchUsers()}catch(e){console.error("Error updating parent:",e.message)}},async updateTeacher(){try{const e=await D.A.put(`users/teachers/${this.editedTeacher._id}`,this.editedTeacher);console.log("Teacher updated:",e.data),this.showEditTeacherModal=!1,this.fetchUsers()}catch(e){console.error("Error updating teacher:",e.message)}},async deleteUser(e){if(this.isAdmin){if(confirm("Are you sure you want to delete this user?"))try{await D.A.delete(`users/user/${e}`),this.users=this.users.filter((t=>t._id!==e)),alert("User deleted successfully")}catch(t){console.error("Error deleting user:",t.message),alert("Failed to delete user.")}}else alert("You are not authorized to delete users.")}}},gi=a(2110),Ai=a.n(gi);const bi=(0,s.A)(ki,[["render",pi],["__scopeId","data-v-1782143a"]]);var yi=bi;Ai()(ki,"components",{QIcon:vi.A});const fi=e=>((0,n.Qi)("data-v-4f8e049f"),e=e(),(0,n.jt)(),e),Li={class:"admin-location-overview"},wi=fi((()=>(0,n.Lk)("h1",null,"Location Administration",-1))),Ci={class:"controls"},Ii={key:0,class:"modal"},Ei={class:"modal-content"},Si=fi((()=>(0,n.Lk)("h2",null,"Add Location",-1))),Ti={class:"form-group"},Di=fi((()=>(0,n.Lk)("label",{for:"name"},"Name",-1))),Fi={class:"form-group"},Ui=fi((()=>(0,n.Lk)("label",{for:"address"},"Address",-1))),Ni={class:"form-group"},Mi=fi((()=>(0,n.Lk)("label",{for:"capacity"},"Capacity",-1))),xi=fi((()=>(0,n.Lk)("button",{type:"submit",class:"submit-btn"},"Add Location",-1))),Qi=fi((()=>(0,n.Lk)("th",null,"Actions",-1))),Pi={key:0,class:"modal"},Bi={class:"modal-content"},Vi=fi((()=>(0,n.Lk)("h2",null,"Edit Location",-1))),Xi={class:"form-group"},qi=fi((()=>(0,n.Lk)("label",{for:"name"},"Name",-1))),Wi={class:"form-group"},Oi=fi((()=>(0,n.Lk)("label",{for:"address"},"Address",-1))),ji={class:"form-group"},Ri=fi((()=>(0,n.Lk)("label",{for:"capacity"},"Capacity",-1))),Hi=fi((()=>(0,n.Lk)("button",{type:"submit",class:"submit-btn"},"Update Location",-1)));function Yi(e,t,a,o,r,s){const l=(0,n.g2)("admin-navbar"),d=(0,n.g2)("q-icon");return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.bF)(l,{userId:r.currentUserId},null,8,["userId"]),(0,n.Lk)("div",Li,[wi,(0,n.Lk)("div",Ci,[(0,n.Lk)("button",{class:"add-btn",onClick:t[0]||(t[0]=e=>r.showAddLocationModal=!0)},"Add Location"),r.showAddLocationModal?((0,n.uX)(),(0,n.CE)("div",Ii,[(0,n.Lk)("div",Ei,[(0,n.Lk)("span",{class:"close",onClick:t[1]||(t[1]=e=>r.showAddLocationModal=!1)},"×"),Si,(0,n.Lk)("form",{onSubmit:t[5]||(t[5]=(0,i.D$)(((...e)=>s.addLocation&&s.addLocation(...e)),["prevent"]))},[(0,n.Lk)("div",Ti,[Di,(0,n.bo)((0,n.Lk)("input",{type:"text",id:"name","onUpdate:modelValue":t[2]||(t[2]=e=>r.newLocation.name=e),required:""},null,512),[[i.Jo,r.newLocation.name]])]),(0,n.Lk)("div",Fi,[Ui,(0,n.bo)((0,n.Lk)("input",{type:"text",id:"address","onUpdate:modelValue":t[3]||(t[3]=e=>r.newLocation.address=e),required:""},null,512),[[i.Jo,r.newLocation.address]])]),(0,n.Lk)("div",Ni,[Mi,(0,n.bo)((0,n.Lk)("input",{type:"number",id:"capacity","onUpdate:modelValue":t[4]||(t[4]=e=>r.newLocation.capacity=e),required:""},null,512),[[i.Jo,r.newLocation.capacity]])]),xi],32)])])):(0,n.Q3)("",!0)]),(0,n.Lk)("table",null,[(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",{onClick:t[6]||(t[6]=e=>s.sort("name"))},"Name "+(0,h.v_)("name"===r.currentSort&&"asc"===r.currentSortDir?"▲":"▼"),1),(0,n.Lk)("th",{onClick:t[7]||(t[7]=e=>s.sort("address"))},"Address "+(0,h.v_)("address"===r.currentSort&&"asc"===r.currentSortDir?"▲":"▼"),1),(0,n.Lk)("th",{onClick:t[8]||(t[8]=e=>s.sort("capacity"))},"Capacity "+(0,h.v_)("capacity"===r.currentSort&&"asc"===r.currentSortDir?"▲":"▼"),1),Qi])]),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(r.locations,(e=>((0,n.uX)(),(0,n.CE)("tr",{key:e._id},[(0,n.Lk)("td",null,(0,h.v_)(e.name),1),(0,n.Lk)("td",null,(0,h.v_)(e.address),1),(0,n.Lk)("td",null,(0,h.v_)(e.capacity),1),(0,n.Lk)("td",null,[(0,n.bF)(d,{name:"edit",onClick:(0,i.D$)((t=>s.openEditLocationModal(e)),["stop"]),class:"edit-icon"},null,8,["onClick"]),(0,n.bF)(d,{name:"delete",onClick:(0,i.D$)((t=>s.deleteLocation(e._id)),["stop"]),class:"delete-icon"},null,8,["onClick"])])])))),128))])])]),r.showEditLocationModal?((0,n.uX)(),(0,n.CE)("div",Pi,[(0,n.Lk)("div",Bi,[(0,n.Lk)("span",{class:"close",onClick:t[9]||(t[9]=e=>r.showEditLocationModal=!1)},"×"),Vi,(0,n.Lk)("form",{onSubmit:t[13]||(t[13]=(0,i.D$)(((...e)=>s.updateLocation&&s.updateLocation(...e)),["prevent"]))},[(0,n.Lk)("div",Xi,[qi,(0,n.bo)((0,n.Lk)("input",{type:"text",id:"name","onUpdate:modelValue":t[10]||(t[10]=e=>r.editedLocation.name=e),required:""},null,512),[[i.Jo,r.editedLocation.name]])]),(0,n.Lk)("div",Wi,[Oi,(0,n.bo)((0,n.Lk)("input",{type:"text",id:"address","onUpdate:modelValue":t[11]||(t[11]=e=>r.editedLocation.address=e),required:""},null,512),[[i.Jo,r.editedLocation.address]])]),(0,n.Lk)("div",ji,[Ri,(0,n.bo)((0,n.Lk)("input",{type:"number",id:"capacity","onUpdate:modelValue":t[12]||(t[12]=e=>r.editedLocation.capacity=e),required:""},null,512),[[i.Jo,r.editedLocation.capacity]])]),Hi],32)])])):(0,n.Q3)("",!0)],64)}var Ji={name:"AdminLocationOverview",components:{AdminNavbar:Ft.A,QIcon:vi.A},data(){return{currentUserId:"",locations:[],newLocation:{name:"",address:"",capacity:0},editedLocation:{},showAddLocationModal:!1,showEditLocationModal:!1,currentSort:"name",currentSortDir:"asc"}},created(){this.currentUserId=localStorage.getItem("user-id")},mounted(){this.fetchLocations()},methods:{async fetchLocations(){try{const e=await D.A.get("locations");this.locations=e.data}catch(e){console.error("There was an error fetching the locations:",e.message)}},async addLocation(){try{const e=await D.A.post("locations",this.newLocation);this.locations.push(e.data),this.showAddLocationModal=!1,this.newLocation={name:"",address:"",capacity:0}}catch(e){console.error("Error adding location:",e.message)}},openEditLocationModal(e){this.editedLocation={...e},this.showEditLocationModal=!0},async updateLocation(){try{const e=await D.A.put(`locations/${this.editedLocation._id}`,this.editedLocation),t=this.locations.findIndex((e=>e._id===this.editedLocation._id));this.locations.splice(t,1,e.data),this.showEditLocationModal=!1}catch(e){console.error("Error updating location:",e.message)}},async deleteLocation(e){if(confirm("Are you sure you want to delete this location?"))try{await D.A.delete(`locations/${e}`),this.locations=this.locations.filter((t=>t._id!==e))}catch(t){console.error("Error deleting location:",t.message)}},sort(e){e===this.currentSort?this.currentSortDir="asc"===this.currentSortDir?"desc":"asc":(this.currentSort=e,this.currentSortDir="asc"),this.locations.sort(((e,t)=>{let a=1;return"desc"===this.currentSortDir&&(a=-1),e[this.currentSort]<t[this.currentSort]?-1*a:e[this.currentSort]>t[this.currentSort]?1*a:0}))}}};const Gi=(0,s.A)(Ji,[["render",Yi],["__scopeId","data-v-4f8e049f"]]);var zi=Gi;Ai()(Ji,"components",{QIcon:vi.A});var Ki=a(7979);const Zi=e=>((0,n.Qi)("data-v-7cd8f130"),e=e(),(0,n.jt)(),e),_i=Zi((()=>(0,n.Lk)("h2",null,"Booked Activities",-1))),$i=["onClick"],en=["id"],tn={class:"activity-cards"};function an(e,t,a,i,o,r){const s=(0,n.g2)("parent-navbar"),l=(0,n.g2)("card-component");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.bF)(s,{userId:o.currentUserId},null,8,["userId"]),_i,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.bookingsGroupedByChild,(e=>((0,n.uX)(),(0,n.CE)("div",{key:e.childId,class:"child-activities-section"},[(0,n.Lk)("button",{class:"accordion",onClick:t=>r.toggleAccordion(e.childId)},[(0,n.Lk)("h3",null,(0,h.v_)(e.childName),1)],8,$i),(0,n.Lk)("div",{class:"panel",id:"panel-"+e.childId},[(0,n.Lk)("div",tn,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.activities,(t=>((0,n.uX)(),(0,n.Wv)(l,{key:t._id,onClick:a=>r.goToActivityDetails(t._id,e.childId)},{default:(0,n.k6)((()=>[(0,n.Lk)("h3",null,(0,h.v_)(t.name),1),(0,n.Lk)("p",null,(0,h.v_)(t.description),1),(0,n.Lk)("p",null,"Start Date: "+(0,h.v_)(new Date(t.startDate).toLocaleDateString()),1),(0,n.Lk)("p",null,"End Date: "+(0,h.v_)(new Date(t.endDate).toLocaleDateString()),1),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(t.timeSlots,((e,t)=>((0,n.uX)(),(0,n.CE)("div",{key:t},[(0,n.Lk)("p",null,(0,h.v_)(e.dayOfWeek)+": "+(0,h.v_)(e.startTime)+" - "+(0,h.v_)(e.endTime),1)])))),128))])),_:2},1032,["onClick"])))),128))])],8,en)])))),128))])}const nn={class:"card-content"},on={class:"card-icons"};function rn(e,t,a,i,o,r){return(0,n.uX)(),(0,n.CE)("div",{class:"card",onClick:t[0]||(t[0]=(...e)=>r.cardClicked&&r.cardClicked(...e))},[(0,n.Lk)("div",nn,[(0,n.RG)(e.$slots,"default",{},void 0,!0)]),(0,n.Lk)("div",on,[(0,n.RG)(e.$slots,"icons",{},void 0,!0)])])}var sn={name:"CardComponent",methods:{cardClicked(){this.$emit("click")}}};const ln=(0,s.A)(sn,[["render",rn],["__scopeId","data-v-2fa04c5a"]]);var dn=ln,cn={name:"ParentBookedOverview",components:{ParentNavbar:ie.A,CardComponent:dn},data(){return{currentUserId:"",bookingsGroupedByChild:[],openPanels:[]}},methods:{async fetchBookings(){try{const e=localStorage.getItem("parent-id");if(!e)return void console.error("Parent ID is undefined.");const t=await D.A.get(`booking/parent/${e}/bookings`);this.bookingsGroupedByChild=this.groupBookingsByChild(t.data)}catch(e){console.error("There was an error fetching the bookings:",e)}},groupBookingsByChild(e){const t=e.reduce(((e,t)=>{const{childId:a,activityId:i}=t;return e[a._id]||(e[a._id]={childId:a._id,childName:a.username,activities:[]}),i?e[a._id].activities.push({_id:i._id,name:i.name,description:i.description,startDate:i.startDate,endDate:i.endDate,timeSlots:i.timeSlots}):e[a._id].activities.push({_id:null,name:"Activity not available",description:"This activity is currently not available.",startDate:null,endDate:null,timeSlots:[]}),e}),{});return Object.values(t)},goToActivityDetails(e,t){e&&t?this.$router.push({name:"ActivityDetailParents",params:{activityId:e},query:{childId:t}}):console.error("Invalid activity or child ID")},toggleAccordion(e){const t=`panel-${e}`,a=this.$el.querySelector("#"+t);a.style.maxHeight?a.style.maxHeight=null:a.style.maxHeight=a.scrollHeight+"px",this.openPanels.includes(e)?this.openPanels=this.openPanels.filter((t=>t!==e)):this.openPanels.push(e)}},created(){this.fetchBookings(),this.currentUserId=localStorage.getItem("user-id")}};const un=(0,s.A)(cn,[["render",an],["__scopeId","data-v-7cd8f130"]]);var hn=un;const mn=e=>((0,n.Qi)("data-v-a0f0b284"),e=e(),(0,n.jt)(),e),pn={class:"calendar-container"},vn={class:"controls"},kn=mn((()=>(0,n.Lk)("option",{value:"",disabled:""},"Select Child",-1))),gn=["value"],An=mn((()=>(0,n.Lk)("option",{value:"dayGridMonth"},"Month View",-1))),bn=mn((()=>(0,n.Lk)("option",{value:"timeGridWeek"},"Week View",-1))),yn=[An,bn],fn={ref:"calendarEl",class:"calendar"};function Ln(e,t,a,o,r,s){const l=(0,n.g2)("parent-navbar");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.bF)(l,{userId:r.currentUserId},null,8,["userId"]),(0,n.Lk)("div",pn,[(0,n.Lk)("div",vn,[(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>o.selectedChildId=e),onChange:t[1]||(t[1]=(...e)=>o.fetchNonCancelledSessions&&o.fetchNonCancelledSessions(...e))},[kn,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.children,(e=>((0,n.uX)(),(0,n.CE)("option",{key:e._id,value:e._id},(0,h.v_)(e.username),9,gn)))),128))],544),[[i.u1,o.selectedChildId]]),(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>o.currentView=e)},yn,512),[[i.u1,o.currentView]])]),(0,n.Lk)("div",fn,null,512)])])}var wn=a(6732),Cn=a(701),In=a(6080),En=a(857),Sn={name:"ParentsCalendar",components:{ParentNavbar:ie.A},data(){return{currentUserId:""}},created(){this.currentUserId=localStorage.getItem("user-id")},setup(){const e=(0,wn.KR)(""),t=(0,wn.KR)([]),a=(0,wn.KR)(null),i=(0,wn.KR)("dayGridMonth");let o=null;const r=async()=>{try{const e=localStorage.getItem("parent-id");if(!e)throw new Error("Parent ID is undefined.");const{data:a}=await D.A.get(`/users/${e}/children`);t.value=a}catch(e){console.error("Error fetching children:",e.message)}},s=async()=>{if(e.value)try{const{data:t}=await D.A.get(`/sessions/participant/${e.value}`),a=t.map((e=>{const t=e.date.split("T")[0],a=t+"T"+e.startTime,i=t+"T"+e.endTime;return isNaN(new Date(a).getTime())||isNaN(new Date(i).getTime())?(console.error(`Invalid date found: start: ${a}, end: ${i}`),null):{title:`${e.activityName} - ${e.locationName}`,start:a,end:i,classNames:["custom-class-for-event"]}})).filter((e=>null!==e));o&&(o.removeAllEvents(),o.addEventSource(a))}catch(t){console.error("Error fetching non-cancelled sessions:",t.message)}},l=()=>{o=new Cn.Vv(a.value,{plugins:[In.A,En.A],initialView:i.value,eventTimeFormat:{hour:"2-digit",minute:"2-digit",hour12:!1},slotMinTime:"09:00:00",slotMaxTime:"18:00:00",events:[]}),o.render()};return(0,n.sV)((()=>{r(),a.value&&l()})),(0,n.wB)(i,(e=>{o&&o.changeView(e)})),{selectedChildId:e,children:t,calendarEl:a,currentView:i,fetchNonCancelledSessions:s}}};const Tn=(0,s.A)(Sn,[["render",Ln],["__scopeId","data-v-a0f0b284"]]);var Dn=Tn;const Fn=e=>((0,n.Qi)("data-v-248da3eb"),e=e(),(0,n.jt)(),e),Un={class:"calendar-container"},Nn={class:"controls"},Mn=Fn((()=>(0,n.Lk)("option",{value:"dayGridMonth"},"Month View",-1))),xn=Fn((()=>(0,n.Lk)("option",{value:"timeGridWeek"},"Week View",-1))),Qn=[Mn,xn],Pn={ref:"calendarEl",class:"calendar"};function Bn(e,t,a,o,r,s){const l=(0,n.g2)("admin-navbar");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.bF)(l,{userId:r.currentUserId},null,8,["userId"]),(0,n.Lk)("div",Un,[(0,n.Lk)("div",Nn,[(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>o.currentView=e)},Qn,512),[[i.u1,o.currentView]])]),(0,n.Lk)("div",Pn,null,512)])])}var Vn={name:"AdminCalendar",components:{AdminNavbar:Ft.A},data(){return{currentUserId:""}},created(){this.currentUserId=localStorage.getItem("user-id")},setup(){const e=(0,wn.KR)(null),t=(0,wn.KR)("dayGridMonth"),a=(0,wn.KR)(null),i=(0,u.rd)(),o=async()=>{try{const{data:e}=await D.A.get("/activities"),t=e.map((async e=>{try{const{data:t}=await D.A.get(`/activity-participants/${e._id}/with-participants`);return(t.timeSlots||[]).map((a=>{const i=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"].map(((e,t)=>e===a.dayOfWeek?t:null)).filter((e=>null!==e));return{id:e._id,title:`${t.name} (${t.participantCount} participants)`,startRecur:t.startDate,endRecur:t.endDate,startTime:a.startTime,endTime:a.endTime,daysOfWeek:i,classNames:["custom-class-for-event"]}})).flat()}catch(t){return console.error(`Error fetching participants for activity ${e._id}:`,t),[]}})),i=await Promise.all(t),n=i.flat();a.value&&(a.value.removeAllEvents(),a.value.addEventSource(n))}catch(e){console.error("There was an error fetching the activities:",e)}};return(0,n.sV)((()=>{a.value=new Cn.Vv(e.value,{plugins:[In.A,En.A],initialView:t.value,slotMinTime:"08:00:00",slotMaxTime:"19:00:00",eventClick:function(e){console.log("Event ID:",e.event.id),i.push({name:"ActivityDetail",params:{activityId:e.event.id}})}}),o(),a.value.render()})),(0,n.wB)(t,(e=>{a.value&&a.value.changeView(e)})),{calendarEl:e,currentView:t}}};const Xn=(0,s.A)(Vn,[["render",Bn],["__scopeId","data-v-248da3eb"]]);var qn=Xn;const Wn=e=>((0,n.Qi)("data-v-39638c5e"),e=e(),(0,n.jt)(),e),On={class:"teacher-overview"},jn=Wn((()=>(0,n.Lk)("h1",null,"Your Activities",-1))),Rn={class:"activity-cards"},Hn=["onClick"],Yn={class:"card-content"},Jn=["innerHTML"],Gn=Wn((()=>(0,n.Lk)("strong",null,"Start Date:",-1))),zn=Wn((()=>(0,n.Lk)("strong",null,"End Date:",-1))),Kn=Wn((()=>(0,n.Lk)("strong",null,"Co-Teachers:",-1)));function Zn(e,t,a,i,o,r){const s=(0,n.g2)("teacher-navbar");return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.bF)(s),(0,n.Lk)("div",On,[jn,(0,n.Lk)("div",Rn,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.activities,(e=>((0,n.uX)(),(0,n.CE)("div",{key:e._id,class:"activity-card",onClick:t=>r.goToActivityDetail(e._id)},[(0,n.Lk)("div",Yn,[(0,n.Lk)("h3",null,(0,h.v_)(e.name),1),(0,n.Lk)("p",{innerHTML:e.description},null,8,Jn),(0,n.Lk)("p",null,[Gn,(0,n.eW)(" "+(0,h.v_)(new Date(e.startDate).toLocaleDateString()),1)]),(0,n.Lk)("p",null,[zn,(0,n.eW)(" "+(0,h.v_)(new Date(e.endDate).toLocaleDateString()),1)]),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.timeSlots,((e,t)=>((0,n.uX)(),(0,n.CE)("div",{key:t},[(0,n.Lk)("p",null,(0,h.v_)(e.dayOfWeek)+": "+(0,h.v_)(e.startTime)+" - "+(0,h.v_)(e.endTime),1)])))),128)),(0,n.Lk)("p",null,[Kn,(0,n.eW)(" "+(0,h.v_)(e.teachers.map((e=>e.username)).join(", ")),1)])])],8,Hn)))),128))])])],64)}const _n={class:"navbar"},$n={class:"avatar-container"};function eo(e,t,a,i,o,r){const s=(0,n.g2)("router-link"),l=(0,n.g2)("user-avatar");return(0,n.uX)(),(0,n.CE)("nav",_n,[(0,n.Lk)("div",{onClick:t[0]||(t[0]=(...e)=>r.toggleNav&&r.toggleNav(...e)),class:"burger"}," ☰ "),(0,n.Lk)("ul",{class:(0,h.C4)({"nav-active":o.navOpen})},[(0,n.Lk)("li",null,[(0,n.bF)(s,{to:"/teacher-overview",onClick:r.closeNav},{default:(0,n.k6)((()=>[(0,n.eW)("Overview")])),_:1},8,["onClick"])]),(0,n.Lk)("li",null,[(0,n.bF)(s,{to:"/teacher-calendar",onClick:r.closeNav},{default:(0,n.k6)((()=>[(0,n.eW)("My Calendar")])),_:1},8,["onClick"])])],2),(0,n.Lk)("div",$n,[(0,n.bF)(l,{userId:a.userId},null,8,["userId"])])])}var to=a(4620),ao={name:"TeacherNavbar",components:{UserAvatar:to.A},props:{userId:{type:String,required:!0}},data(){return{navOpen:!1}},methods:{performLogout(){(0,he.r)(this.$router)},toggleNav(){this.navOpen=!this.navOpen},closeNav(){this.navOpen=!1}}};const io=(0,s.A)(ao,[["render",eo]]);var no=io,oo={name:"TeacherOverview",components:{TeacherNavbar:no},data(){return{activities:[]}},methods:{fetchActivitiesForTeacher(){const e=localStorage.getItem("user-id");D.A.get(`/activity-participants/forteacher/${e}`).then((e=>{this.activities=e.data})).catch((e=>{console.error("There was an error fetching activities for the teacher:",e)}))},goToActivityDetail(e){this.$router.push({name:"ActivityDetailTeacher",params:{activityId:e}})}},created(){this.fetchActivitiesForTeacher()}};const ro=(0,s.A)(oo,[["render",Zn],["__scopeId","data-v-39638c5e"]]);var so=ro;const lo=e=>((0,n.Qi)("data-v-0c87b272"),e=e(),(0,n.jt)(),e),co={class:"activity-detail-wrapper"},uo={key:0,class:"activity-detail-container"},ho={class:"activity-tabs"},mo={class:"tab-content"},po={key:0,class:"about-section"},vo=["innerHTML"],ko={key:0,class:"teachers-section"},go=lo((()=>(0,n.Lk)("h3",null,"Teachers",-1))),Ao={key:1,class:"schedule-section"},bo=lo((()=>(0,n.Lk)("h2",null,"Schedule:",-1))),yo=["onClick"],fo={key:1,class:"loading"};function Lo(e,t,a,i,o,r){const s=(0,n.g2)("ParentNavbar");return(0,n.uX)(),(0,n.CE)("div",co,[(0,n.bF)(s),o.activity?((0,n.uX)(),(0,n.CE)("div",uo,[(0,n.Lk)("div",ho,[(0,n.Lk)("button",{onClick:t[0]||(t[0]=e=>o.currentTab="about"),class:(0,h.C4)({active:"about"===o.currentTab})},"About",2),(0,n.Lk)("button",{onClick:t[1]||(t[1]=e=>o.currentTab="schedule"),class:(0,h.C4)({active:"schedule"===o.currentTab})},"Schedule",2)]),(0,n.Lk)("div",mo,["about"===o.currentTab?((0,n.uX)(),(0,n.CE)("div",po,[(0,n.Lk)("h1",null,(0,h.v_)(o.activity.name),1),(0,n.Lk)("p",{innerHTML:o.activity.description},null,8,vo),(0,n.Lk)("p",null,"Date: "+(0,h.v_)(r.formatDate(o.activity.startDate))+" to "+(0,h.v_)(r.formatDate(o.activity.endDate)),1),o.activity.teachers&&o.activity.teachers.length?((0,n.uX)(),(0,n.CE)("div",ko,[go,(0,n.Lk)("ul",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.activity.teachers,(e=>((0,n.uX)(),(0,n.CE)("li",{key:e._id},(0,h.v_)(e.username),1)))),128))])])):(0,n.Q3)("",!0)])):(0,n.Q3)("",!0),"schedule"===o.currentTab?((0,n.uX)(),(0,n.CE)("div",Ao,[bo,(0,n.Lk)("ul",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.activity.sessions,(e=>((0,n.uX)(),(0,n.CE)("li",{key:e._id,class:"session-item"},[(0,n.eW)((0,h.v_)(r.formatDate(e.date))+": "+(0,h.v_)(e.startTime)+" - "+(0,h.v_)(e.endTime)+" ",1),(0,n.Lk)("button",{class:(0,h.C4)({"absent-button":!e.absentees.includes(o.childId),"present-button":e.absentees.includes(o.childId)}),onClick:t=>r.toggleAbsence(e)},(0,h.v_)(e.absentees.includes(o.childId)?"Unmark As Absent":"Mark As Absent"),11,yo)])))),128))])])):(0,n.Q3)("",!0)])])):((0,n.uX)(),(0,n.CE)("div",fo,"Loading activity details..."))])}var wo={name:"ActivityDetailParents",components:{ParentNavbar:ie.A},data(){return{activity:null,currentTab:"about",childId:null}},methods:{formatDate(e){return new Date(e).toLocaleDateString()},fetchActivity(){const e=this.$route.params.activityId,t=this.$route.query.childId;t?(this.childId=t,D.A.get(`/activities/${e}`).then((t=>{this.activity=t.data,this.fetchSessions(e)})).catch((e=>{console.error("Error fetching the activity details:",e)}))):alert("Error: No child ID specified. Please ensure the URL is correct.")},fetchSessions(e){D.A.get(`/sessions/${e}`).then((e=>{this.activity.sessions=e.data,console.log("Session data fetched:",this.activity.sessions)})).catch((e=>{console.error("Error fetching session details:",e)}))},toggleAbsence(e){e.absentees.includes(this.childId)?this.unmarkAsAbsent(e._id):this.markAsAbsent(e._id)},markAsAbsent(e){D.A.post(`/sessions/mark-absent/${e}/${this.childId}`).then((()=>{alert("Absence marked successfully."),this.fetchSessions(this.activity._id)})).catch((e=>{console.error("Error marking absence:",e)}))},unmarkAsAbsent(e){D.A.post(`/sessions/unmark-absent/${e}/${this.childId}`).then((()=>{alert("Absence unmarked successfully."),this.fetchSessions(this.activity._id)})).catch((e=>{console.error("Error unmarking absence:",e)}))}},created(){this.fetchActivity()}};const Co=(0,s.A)(wo,[["render",Lo],["__scopeId","data-v-0c87b272"]]);var Io=Co;const Eo=e=>((0,n.Qi)("data-v-3c0ce298"),e=e(),(0,n.jt)(),e),So={class:"activity-detail-container"},To={key:0,class:"activity-detail-header"},Do={class:"activity-detail-tabs"},Fo={class:"tab-content"},Uo={key:0,class:"activity-detail"},No=["innerHTML"],Mo={key:1},xo=Eo((()=>(0,n.Lk)("h2",null,"Session Participation",-1))),Qo={class:"session-list"},Po=["onClick"],Bo=["onClick"],Vo={key:0,class:"participant-list"},Xo={key:0,class:"checkmark"},qo=["onClick"],Wo=["onClick"],Oo={key:1,class:"modal"},jo={class:"modal-content"},Ro=Eo((()=>(0,n.Lk)("h3",null,"Reschedule Session",-1))),Ho={class:"form-group"},Yo=Eo((()=>(0,n.Lk)("label",{for:"newDate"},"New Date:",-1))),Jo={class:"form-group"},Go=Eo((()=>(0,n.Lk)("label",{for:"newStartTime"},"New Start Time:",-1))),zo={class:"form-group"},Ko=Eo((()=>(0,n.Lk)("label",{for:"newEndTime"},"New End Time:",-1))),Zo=Eo((()=>(0,n.Lk)("button",{type:"submit",class:"submit-btn"},"Submit",-1)));function _o(e,t,a,o,r,s){const l=(0,n.g2)("TeacherNavbar");return(0,n.uX)(),(0,n.CE)("div",So,[(0,n.bF)(l),r.activity?((0,n.uX)(),(0,n.CE)("div",To,[(0,n.Lk)("div",Do,[(0,n.Lk)("button",{onClick:t[0]||(t[0]=e=>r.currentTab="about"),class:(0,h.C4)([{"active-tab":"about"===r.currentTab},"tab-button"])},"About",2),(0,n.Lk)("button",{onClick:t[1]||(t[1]=e=>r.currentTab="participants"),class:(0,h.C4)([{"active-tab":"participants"===r.currentTab},"tab-button"])},"Participants",2)]),(0,n.Lk)("div",Fo,["about"===r.currentTab?((0,n.uX)(),(0,n.CE)("div",Uo,[(0,n.Lk)("h1",null,(0,h.v_)(r.activity.name),1),(0,n.Lk)("p",{innerHTML:r.activity.description},null,8,No),(0,n.Lk)("p",null,"Date: "+(0,h.v_)(new Date(r.activity.startDate).toLocaleDateString())+" to "+(0,h.v_)(new Date(r.activity.endDate).toLocaleDateString()),1)])):(0,n.Q3)("",!0),"participants"===r.currentTab?((0,n.uX)(),(0,n.CE)("div",Mo,[xo,(0,n.Lk)("ul",Qo,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(r.sessionInfo,((e,t)=>((0,n.uX)(),(0,n.CE)("li",{key:t},[(0,n.Lk)("div",{class:"session-header",onClick:e=>s.toggleParticipantList(t)},[(0,n.eW)((0,h.v_)(s.formatDate(e.date))+": "+(0,h.v_)(e.startTime)+" - "+(0,h.v_)(e.endTime)+" ("+(0,h.v_)(e.participants.length)+" participants) ",1),(0,n.Lk)("button",{onClick:(0,i.D$)((t=>s.startRescheduleSession(e)),["stop"]),class:"reschedule-btn"},"Reschedule",8,Bo)],8,Po),r.expandedSlots.includes(t)?((0,n.uX)(),(0,n.CE)("ul",Vo,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.participants,(a=>((0,n.uX)(),(0,n.CE)("li",{key:a.participantId,class:"participant-item"},[(0,n.eW)((0,h.v_)(a.name)+" ",1),a.attended?((0,n.uX)(),(0,n.CE)("span",Xo,"✔️")):(0,n.Q3)("",!0),a.attended?((0,n.uX)(),(0,n.CE)("button",{key:2,onClick:(0,i.D$)((i=>s.toggleAttendance(a.participantId,e,t,!1)),["stop"]),class:"mark-attendance-btn"},"Mark Unattended",8,Wo)):((0,n.uX)(),(0,n.CE)("button",{key:1,onClick:(0,i.D$)((i=>s.toggleAttendance(a.participantId,e,t,!0)),["stop"]),class:"mark-attendance-btn"},"Mark Attended",8,qo))])))),128))])):(0,n.Q3)("",!0)])))),128))])])):(0,n.Q3)("",!0)])])):(0,n.Q3)("",!0),r.showRescheduleModal?((0,n.uX)(),(0,n.CE)("div",Oo,[(0,n.Lk)("div",jo,[(0,n.Lk)("span",{class:"close",onClick:t[2]||(t[2]=e=>r.showRescheduleModal=!1)},"×"),Ro,(0,n.Lk)("form",{onSubmit:t[6]||(t[6]=(0,i.D$)(((...e)=>s.confirmReschedule&&s.confirmReschedule(...e)),["prevent"])),class:"reschedule-form"},[(0,n.Lk)("div",Ho,[Yo,(0,n.bo)((0,n.Lk)("input",{type:"date","onUpdate:modelValue":t[3]||(t[3]=e=>r.rescheduleData.newDate=e),required:""},null,512),[[i.Jo,r.rescheduleData.newDate]])]),(0,n.Lk)("div",Jo,[Go,(0,n.bo)((0,n.Lk)("input",{type:"time","onUpdate:modelValue":t[4]||(t[4]=e=>r.rescheduleData.newStartTime=e),required:""},null,512),[[i.Jo,r.rescheduleData.newStartTime]])]),(0,n.Lk)("div",zo,[Ko,(0,n.bo)((0,n.Lk)("input",{type:"time","onUpdate:modelValue":t[5]||(t[5]=e=>r.rescheduleData.newEndTime=e),required:""},null,512),[[i.Jo,r.rescheduleData.newEndTime]])]),Zo],32)])])):(0,n.Q3)("",!0)])}var $o={name:"ActivityDetailTeacher",components:{TeacherNavbar:no},data(){return{activity:null,currentTab:"about",expandedSlots:[],sessionInfo:[],rescheduleData:{session:null,newDate:"",newStartTime:"",newEndTime:""},showRescheduleModal:!1}},created(){this.fetchActivity(),this.fetchSessionInfo()},methods:{formatDate(e){const t=new Date(e);return`${t.getDate().toString().padStart(2,"0")}.${(t.getMonth()+1).toString().padStart(2,"0")}.${t.getFullYear()}`},fetchActivity(){const e=this.$route.params.activityId;D.A.get(`/activities/${e}`).then((e=>{this.activity=e.data})).catch((e=>{console.error("Error fetching the activity details:",e)}))},fetchSessionInfo(){const e=this.$route.params.activityId;D.A.get(`/sessions/${e}/sessions-with-participants`).then((e=>{this.sessionInfo=e.data.map((e=>({...e,participants:e.participants.map((e=>({...e,attended:e.attended})))})))})).catch((e=>{console.error("Error fetching session information:",e)}))},toggleParticipantList(e){const t=this.expandedSlots.indexOf(e);-1!==t?this.expandedSlots.splice(t,1):this.expandedSlots.push(e)},toggleAttendance(e,t,a,i){const n={attended:i},o=t.sessionId;D.A.post(`/attendance/${o}/${e}`,n).then((()=>{const t=this.sessionInfo[a].participants.findIndex((t=>t.participantId===e));-1!==t&&(this.sessionInfo[a].participants[t].attended=i),alert(`Attendance ${i?"marked":"unmarked"} successfully.`)})).catch((e=>{console.error(`Error ${i?"marking":"unmarking"} attendance:`,e),alert(`Failed to ${i?"mark":"unmark"} attendance.`)}))},startRescheduleSession(e){this.rescheduleData.session=e,this.rescheduleData.newDate=e.date,this.rescheduleData.newStartTime=e.startTime,this.rescheduleData.newEndTime=e.endTime,this.showRescheduleModal=!0},confirmReschedule(){const{session:e,newDate:t,newStartTime:a,newEndTime:i}=this.rescheduleData,n=this.$route.params.activityId,o={activityId:n,currentDate:e.date,startTime:e.startTime,endTime:e.endTime,newDate:t,newStartTime:a,newEndTime:i};D.A.patch(`/sessions/reschedule/${e.sessionId}`,o).then((()=>{alert("Session rescheduled successfully."),this.showRescheduleModal=!1,this.fetchSessionInfo()})).catch((e=>{console.error("Error rescheduling session:",e),alert("Failed to reschedule session.")}))}}};const er=(0,s.A)($o,[["render",_o],["__scopeId","data-v-3c0ce298"]]);var tr=er;const ar=e=>((0,n.Qi)("data-v-48a8f424"),e=e(),(0,n.jt)(),e),ir={class:"calendar-container"},nr={class:"controls"},or=ar((()=>(0,n.Lk)("option",{value:"dayGridMonth"},"Month View",-1))),rr=ar((()=>(0,n.Lk)("option",{value:"timeGridWeek"},"Week View",-1))),sr=[or,rr],lr={ref:"calendarEl",class:"calendar"};function dr(e,t,a,o,r,s){const l=(0,n.g2)("TeacherNavbar");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.bF)(l),(0,n.Lk)("div",ir,[(0,n.Lk)("div",nr,[(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>o.currentView=e)},sr,512),[[i.u1,o.currentView]])]),(0,n.Lk)("div",lr,null,512)])])}var cr={name:"TeacherCalendar",components:{TeacherNavbar:no},setup(){const e=(0,wn.KR)(null),t=(0,wn.KR)("dayGridMonth"),a=(0,wn.KR)(null),i=localStorage.getItem("user-id"),o=async()=>{if(i)try{const{data:e}=await D.A.get(`/sessions/teacher/${i}`),t=e.map((e=>({id:e.id,title:`${e.activity} - ${e.numParticipants} participants`,start:new Date(e.date),end:new Date(e.date),classNames:["custom-class-for-event"]})));a.value&&(a.value.removeAllEvents(),a.value.addEventSource(t))}catch(e){console.error("There was an error fetching the sessions:",e)}else console.error("No teacher ID found in local storage.")};return(0,n.sV)((()=>{a.value=new Cn.Vv(e.value,{plugins:[In.A,En.A],initialView:t.value,slotMinTime:"08:00:00",slotMaxTime:"19:00:00",eventClick:function(e){console.log("Session ID:",e.event.id)}}),o(),a.value.render()})),(0,n.wB)(t,(e=>{a.value&&a.value.changeView(e)})),{calendarEl:e,currentView:t}}};const ur=(0,s.A)(cr,[["render",dr],["__scopeId","data-v-48a8f424"]]);var hr=ur;const mr=[{path:"/login",name:"LoginPage",component:x},{path:"/parent-overview",name:"ParentOverview",component:re},{path:"/child-overview",name:"ChildOverview",component:ve},{path:"/admin-overview",name:"AdminOverview",component:Mt,beforeEnter:(e,t,a)=>{const i=localStorage.getItem("user-role");"admin"===i?a():a("/login")}},{path:"/admin-calendar",name:"AdminCalendar",component:qn,beforeEnter:(e,t,a)=>{const i=localStorage.getItem("user-role");"admin"===i?a():a("/login")}},{path:"/activity/:activityId",name:"ActivityDetail",component:()=>Promise.resolve().then(a.bind(a,7979))},{path:"/parent-booked-overview",name:"ParentBookedOverview",component:hn,beforeEnter:(e,t,a)=>{const i=localStorage.getItem("user-token"),n=localStorage.getItem("user-role");i&&"parent"===n?a():a("/login")}},{path:"/parents-calendar",name:"ParentsCalendar",component:Dn,beforeEnter:(e,t,a)=>{const i=localStorage.getItem("user-token"),n=localStorage.getItem("user-role");i&&"parent"===n?a():a("/login")}},{path:"/admin-user-overview",name:"AdminUserOverview",component:yi,beforeEnter:(e,t,a)=>{const i=localStorage.getItem("user-role");"admin"===i?a():a("/login")}},{path:"/admin-location-overview",name:"AdminLocationOverview",component:zi,beforeEnter:(e,t,a)=>{const i=localStorage.getItem("user-role");"admin"===i?a():a("/login")}},{path:"/teacher-overview",name:"TeacherOverview",component:so,beforeEnter:(e,t,a)=>{const i=(localStorage.getItem("user-role")||"").trim();"teacher"===i?a():a("/login")}},{path:"/teacher-activity/:activityId",name:"ActivityDetailTeacher",component:tr,beforeEnter:(e,t,a)=>{const i=(localStorage.getItem("user-role")||"").trim();"teacher"===i?a():a("/login")}},{path:"/teacher-calendar",name:"TeacherCalendar",component:hr,beforeEnter:(e,t,a)=>{const i=localStorage.getItem("user-role");"teacher"===i?a():a("/login")}},{path:"/users/:userId",name:"UserDetail",component:()=>a.e(110).then(a.bind(a,8110)),meta:{requiresAdmin:!0}},{path:"/parent-activity/:activityId",name:"ActivityDetailParents",component:Io,beforeEnter:(e,t,a)=>{const i=localStorage.getItem("user-token"),n=localStorage.getItem("user-role");!i||"parent"!==n&&"child"!==n?a("/login"):a()}},{path:"/activity/:activityId",name:"ActivityDetail",component:()=>Promise.resolve().then(a.bind(a,7979))},{path:"/activities/:activityId",name:"ActivityDetail",component:Ki["default"]}],pr=(0,u.aE)({history:(0,u.LA)(""),routes:mr});pr.beforeEach(((e,t,a)=>{const i=localStorage.getItem("user-token"),n=(localStorage.getItem("user-role")||"").trim(),o={parent:"/parent-overview",child:"/child-overview",teacher:"/teacher-overview",admin:"/admin-overview"};if("/login"===e.path){if(i){const e=o[n]||"/login";return void a(e)}}else if(!i)return void a("/login");a()}));var vr=pr,kr=a(7449),gr=a(1680),Ar=a(3684),br={login:e=>{const{normalize:t}=e;return t(["Login"])},emailAddress:e=>{const{normalize:t}=e;return t(["E-Mail Address"])},password:e=>{const{normalize:t}=e;return t(["Password"])},signIn:e=>{const{normalize:t}=e;return t(["Sign In"])},invalidCredentials:e=>{const{normalize:t}=e;return t(["Invalid login credentials"])}},yr={login:e=>{const{normalize:t}=e;return t(["Einloggen"])},emailAddress:e=>{const{normalize:t}=e;return t(["E-Mail-Adresse"])},password:e=>{const{normalize:t}=e;return t(["Passwort"])},signIn:e=>{const{normalize:t}=e;return t(["Anmelden"])},invalidCredentials:e=>{const{normalize:t}=e;return t(["Ungültige Anmeldedaten"])}},fr={login:e=>{const{normalize:t}=e;return t(["Pieteikties"])},emailAddress:e=>{const{normalize:t}=e;return t(["E-pasts"])},password:e=>{const{normalize:t}=e;return t(["Parole"])},signIn:e=>{const{normalize:t}=e;return t(["Pieteikties"])},invalidCredentials:e=>{const{normalize:t}=e;return t(["Nederīgas pieteikšanās informācijas"])}};const Lr=(0,kr.hU)({legacy:!1,locale:"en",fallbackLocale:"en",messages:{en:br,de:yr,lv:fr}}),wr=(0,i.Ef)(c);wr.use(vr),wr.use(Lr),wr.use(gr.A,{components:{QChip:Ar.A}}),wr.mount("#app")},83:function(e,t,a){var i=a(6597);const n="http://localhost:5002/api/";console.log(`Using API Base URL: ${n}`);const o=i.A.create({baseURL:n});o.interceptors.request.use((function(e){const t=localStorage.getItem("user-token");return t&&(e.headers.Authorization=`Bearer ${t}`),console.log(`Making API call to: ${e.baseURL}${e.url}`),e}),(function(e){return console.error("Error with API request:",e),Promise.reject(e)})),t.A=o},4453:function(e,t,a){a.d(t,{r:function(){return i}});a(4645);function i(e){localStorage.removeItem("user-token"),localStorage.removeItem("user-role"),localStorage.removeItem("user-id"),e.push({name:"LoginPage"})}},9181:function(e,t,a){a.d(t,{A:function(){return u}});var i=a(4220),n=a(7700);const o={class:"navbar"};function r(e,t,a,r,s,l){const d=(0,i.g2)("router-link"),c=(0,i.g2)("user-avatar");return(0,i.uX)(),(0,i.CE)("nav",o,[(0,i.Lk)("div",{onClick:t[0]||(t[0]=(...e)=>l.toggleNav&&l.toggleNav(...e)),class:"burger"}," ☰ "),(0,i.Lk)("ul",{class:(0,n.C4)({"nav-active":s.navOpen})},[(0,i.Lk)("li",null,[(0,i.bF)(d,{to:"/admin-overview",onClick:l.closeNav},{default:(0,i.k6)((()=>[(0,i.eW)("All Activities")])),_:1},8,["onClick"])]),(0,i.Lk)("li",null,[(0,i.bF)(d,{to:"/admin-user-overview",onClick:l.closeNav},{default:(0,i.k6)((()=>[(0,i.eW)("User Management")])),_:1},8,["onClick"])]),(0,i.Lk)("li",null,[(0,i.bF)(d,{to:"/admin-location-overview",onClick:l.closeNav},{default:(0,i.k6)((()=>[(0,i.eW)("Location Management")])),_:1},8,["onClick"])]),(0,i.Lk)("li",null,[(0,i.bF)(d,{to:"/admin-calendar",onClick:l.closeNav},{default:(0,i.k6)((()=>[(0,i.eW)("Calendar View")])),_:1},8,["onClick"])])],2),(0,i.bF)(c,{userId:a.userId},null,8,["userId"])])}var s=a(4620),l={name:"AdminNavbar",components:{UserAvatar:s.A},props:{userId:{type:String}},data(){return{navOpen:!1}},methods:{toggleNav(){this.navOpen=!this.navOpen},closeNav(){this.navOpen=!1}}},d=a(1317);const c=(0,d.A)(l,[["render",r]]);var u=c},8690:function(e,t,a){a.d(t,{A:function(){return u}});var i=a(4220),n=a(7700);const o={class:"navbar"};function r(e,t,a,r,s,l){const d=(0,i.g2)("router-link"),c=(0,i.g2)("user-avatar");return(0,i.uX)(),(0,i.CE)("nav",o,[(0,i.Lk)("div",{onClick:t[0]||(t[0]=(...e)=>l.toggleNav&&l.toggleNav(...e)),class:"burger"}," ☰ "),(0,i.Lk)("ul",{class:(0,n.C4)({"nav-active":s.navOpen})},[(0,i.Lk)("li",null,[(0,i.bF)(d,{to:"/parent-overview",onClick:l.closeNav},{default:(0,i.k6)((()=>[(0,i.eW)("All Activities")])),_:1},8,["onClick"])]),(0,i.Lk)("li",null,[(0,i.bF)(d,{to:"/parent-booked-overview",onClick:l.closeNav},{default:(0,i.k6)((()=>[(0,i.eW)("Booked Activities")])),_:1},8,["onClick"])]),(0,i.Lk)("li",null,[(0,i.bF)(d,{to:"/parents-calendar",onClick:l.closeNav},{default:(0,i.k6)((()=>[(0,i.eW)("Calendar View")])),_:1},8,["onClick"])])],2),(0,i.bF)(c,{userId:a.userId},null,8,["userId"])])}var s=a(4620),l={name:"ParentNavbar",components:{UserAvatar:s.A},props:{userId:{type:String,required:!0}},data(){return{navOpen:!1}},methods:{toggleNav(){this.navOpen=!this.navOpen},closeNav(){this.navOpen&&(this.navOpen=!1)}}},d=a(1317);const c=(0,d.A)(l,[["render",r]]);var u=c},4620:function(e,t,a){a.d(t,{A:function(){return k}});var i=a(4220),n=a(7700),o=a(9798);const r={key:0,class:"dropdown-menu"};function s(e,t,a,s,l,d){const c=(0,i.g2)("q-avatar");return(0,i.uX)(),(0,i.CE)("div",{class:"user-dropdown",onClick:t[2]||(t[2]=(...e)=>d.toggleDropdown&&d.toggleDropdown(...e))},[(0,i.bF)(c,{color:"primary","text-color":"white"},{default:(0,i.k6)((()=>[(0,i.eW)((0,n.v_)(d.getUserInitials),1)])),_:1}),l.dropdownOpen?((0,i.uX)(),(0,i.CE)("div",r,[(0,i.Lk)("a",{href:"#",onClick:t[0]||(t[0]=(0,o.D$)(((...e)=>d.performLogout&&d.performLogout(...e)),["prevent"]))},"Logout"),(0,i.Lk)("a",{href:"#",onClick:t[1]||(t[1]=(0,o.D$)(((...e)=>d.goToSettings&&d.goToSettings(...e)),["prevent"]))},"Settings")])):(0,i.Q3)("",!0)])}a(4645);var l=a(1450),d=a(6597),c=a(4453),u={name:"UserAvatar",components:{QAvatar:l.A},props:{userId:{type:String}},data(){return{dropdownOpen:!1,user:null}},computed:{getUserInitials(){return this.user?this.user.initials:""}},created(){this.fetchUserDetails()},methods:{fetchUserDetails(){const e=localStorage.getItem("user-token");this.userId&&e?d.A.get(`/users/${this.userId}/initials`,{headers:{Authorization:`Bearer ${e}`}}).then((e=>{this.user={...this.user,initials:e.data.initials}})).catch((e=>{console.error("Error fetching user initials:",e.response?e.response.data.message:e.message)})):console.error("User ID or token is undefined.")},performLogout(){(0,c.r)(this.$router)},goToSettings(){this.$router.push("/settings")},toggleDropdown(){this.dropdownOpen=!this.dropdownOpen}}},h=a(1317),m=a(2110),p=a.n(m);const v=(0,h.A)(u,[["render",s],["__scopeId","data-v-2e01840f"]]);var k=v;p()(u,"components",{QAvatar:l.A})},7979:function(e,t,a){a.r(t),a.d(t,{default:function(){return V}});var i=a(4220),n=a(7700),o=a(9798);const r=e=>((0,i.Qi)("data-v-c4253c82"),e=e(),(0,i.jt)(),e),s={key:2,class:"activity-detail-container"},l={class:"activity-detail-tabs"},d={class:"tab-content"},c={key:0,class:"activity-detail"},u=["innerHTML"],h={key:0},m=r((()=>(0,i.Lk)("h3",null,"Time Slots",-1))),p={key:1},v=r((()=>(0,i.Lk)("h3",null,"Teachers",-1))),k={key:2},g=r((()=>(0,i.Lk)("h3",null,"Booking Details:",-1))),A=["onClick"],b=["onClick"],y={key:0,class:"full-capacity-message"},f={key:1},L={class:"participant-list"},w=["onClick"],C={class:"participant-list"},I={key:3,class:"loading"},E={key:4,class:"modal"},S={class:"modal-content"},T=r((()=>(0,i.Lk)("h3",null,"Book This Activity",-1))),D=r((()=>(0,i.Lk)("option",{disabled:"",value:""},"Select Child",-1))),F=["value"];function U(e,t,a,r,U,N){const M=(0,i.g2)("AdminNavbar"),x=(0,i.g2)("ParentNavbar");return(0,i.uX)(),(0,i.CE)("div",null,[U.isAdmin?((0,i.uX)(),(0,i.Wv)(M,{key:0})):((0,i.uX)(),(0,i.Wv)(x,{key:1})),U.activity?((0,i.uX)(),(0,i.CE)("div",s,[(0,i.Lk)("div",l,[(0,i.Lk)("button",{onClick:t[0]||(t[0]=e=>U.currentTab="about"),class:(0,n.C4)({"active-tab":"about"===U.currentTab})},"About",2),U.isAdmin?((0,i.uX)(),(0,i.CE)("button",{key:0,onClick:t[1]||(t[1]=e=>U.currentTab="participants"),class:(0,n.C4)({"active-tab":"participants"===U.currentTab})},"Participants",2)):(0,i.Q3)("",!0)]),(0,i.Lk)("div",d,["about"===U.currentTab?((0,i.uX)(),(0,i.CE)("div",c,[(0,i.Lk)("h1",null,(0,n.v_)(U.activity.name),1),(0,i.Lk)("p",{innerHTML:U.activity.description},null,8,u),(0,i.Lk)("p",null,"Date: "+(0,n.v_)(new Date(U.activity.startDate).toLocaleDateString())+" to "+(0,n.v_)(new Date(U.activity.endDate).toLocaleDateString()),1),(0,i.Lk)("p",null,"Maximum Participants: "+(0,n.v_)(U.activity.maxParticipants),1),U.activity.timeSlots?((0,i.uX)(),(0,i.CE)("div",h,[m,(0,i.Lk)("ul",null,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(U.activity.timeSlots,((e,t)=>((0,i.uX)(),(0,i.CE)("li",{key:t},(0,n.v_)(e.dayOfWeek)+": "+(0,n.v_)(e.startTime)+" - "+(0,n.v_)(e.endTime),1)))),128))])])):(0,i.Q3)("",!0),U.activity.teachers&&U.activity.teachers.length?((0,i.uX)(),(0,i.CE)("div",p,[v,(0,i.Lk)("ul",null,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(U.activity.teachers,(e=>((0,i.uX)(),(0,i.CE)("li",{key:e._id},(0,n.v_)(e.username),1)))),128))])])):(0,i.Q3)("",!0),!U.isAdmin&&U.children.length>0?((0,i.uX)(),(0,i.CE)("div",k,[g,(0,i.Lk)("ul",null,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(U.children,(e=>((0,i.uX)(),(0,i.CE)("li",{key:e.id},[(0,i.Lk)("span",null,(0,n.v_)(e.name)+": "+(0,n.v_)(e.status),1),e.isBooked?((0,i.uX)(),(0,i.CE)("button",{key:0,onClick:t=>N.cancelBooking(e.id,e.bookingId),class:"cancel-button"}," Cancel Booking ",8,A)):((0,i.uX)(),(0,i.CE)("button",{key:1,onClick:t=>N.bookActivity(e.id),class:"book-activity-button"}," Book Activity ",8,b))])))),128))]),U.allChildrenBooked?((0,i.uX)(),(0,i.CE)("p",y," The activity is booked out, new bookings will be placed on the waitlist. ")):(0,i.Q3)("",!0)])):(0,i.Q3)("",!0)])):(0,i.Q3)("",!0),"participants"===U.currentTab&&U.isAdmin?((0,i.uX)(),(0,i.CE)("div",f,[(0,i.Lk)("h2",null,"Confirmed Participants ("+(0,n.v_)(U.confirmedParticipants.length)+"):",1),(0,i.Lk)("ul",L,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(U.confirmedParticipants,(e=>((0,i.uX)(),(0,i.CE)("li",{key:e.id},[(0,i.Lk)("span",null,(0,n.v_)(e.username),1),(0,i.Lk)("button",{class:"remove-button",onClick:t=>N.removeBooking(e.id,e.bookingId)},"Remove",8,w)])))),128))]),(0,i.Lk)("h2",null,"Waitlisted Participants ("+(0,n.v_)(U.waitlistedParticipants.length)+"):",1),(0,i.Lk)("ul",C,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(U.waitlistedParticipants,(e=>((0,i.uX)(),(0,i.CE)("li",{key:e.id},[(0,i.Lk)("span",null,(0,n.v_)(e.username),1)])))),128))])])):(0,i.Q3)("",!0)])])):((0,i.uX)(),(0,i.CE)("div",I," Loading activity details... ")),U.showBookingModal?((0,i.uX)(),(0,i.CE)("div",E,[(0,i.Lk)("div",S,[(0,i.Lk)("span",{onClick:t[2]||(t[2]=e=>U.showBookingModal=!1),class:"close"},"×"),T,U.children.length>1?(0,i.bo)(((0,i.uX)(),(0,i.CE)("select",{key:0,"onUpdate:modelValue":t[3]||(t[3]=e=>U.selectedChild=e),class:"select-child"},[D,((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(U.children,(e=>((0,i.uX)(),(0,i.CE)("option",{value:e.id,key:e.id},(0,n.v_)(e.name),9,F)))),128))],512)),[[o.u1,U.selectedChild]]):(0,i.Q3)("",!0),(0,i.Lk)("button",{onClick:t[4]||(t[4]=e=>N.bookActivity(U.selectedChild)),class:"book-button"},"Book Activity")])])):(0,i.Q3)("",!0)])}var N=a(83),M=a(9181),x=a(8690),Q={name:"ActivityDetail",components:{AdminNavbar:M.A,ParentNavbar:x.A},data(){return{activity:null,participants:[],isAdmin:!1,showBookingModal:!1,children:[],selectedChild:"",currentTab:"about",allChildrenBooked:!1,confirmedParticipants:[],waitlistedParticipants:[]}},created(){this.isAdmin="admin"===localStorage.getItem("user-role"),this.fetchActivity().then((()=>{this.isAdmin?this.fetchParticipants():(this.fetchChildren(),this.fetchBookingStatus())})).catch((e=>{console.error("Error fetching activity:",e)}))},methods:{fetchActivity(){const e=this.$route.params.activityId;return N.A.get(`activities/${e}`).then((e=>{this.activity=e.data})).catch((e=>{throw console.error("Error fetching activity details:",e),e}))},fetchParticipants(){const e=this.activity._id;N.A.get(`booking/activity/${e}/bookings`).then((e=>{this.confirmedParticipants=e.data.filter((e=>"confirmed"===e.status)).map((e=>({id:e.childId._id,username:e.childId.username,bookingId:e._id}))),this.waitlistedParticipants=e.data.filter((e=>"waitlisted"===e.status)).map((e=>({id:e.childId._id,username:e.childId.username,bookingId:e._id})))})).catch((e=>{console.error("Error fetching participants:",e)}))},fetchChildren(){const e=localStorage.getItem("parent-id");N.A.get(`users/${e}/children`).then((e=>{this.children=e.data.map((e=>({id:e._id,name:e.username}))),1===this.children.length&&(this.selectedChild=this.children[0].id)})).catch((e=>{console.error("Error fetching children:",e)}))},fetchBookingStatus(){const e=localStorage.getItem("parent-id"),t=this.$route.params.activityId;N.A.get(`booking/activity/${t}/parent/${e}/booking-status`).then((e=>{let t=!0;this.children=this.children.map((a=>{const i=e.data.find((e=>e.childName===a.name)),n=void 0!==i&&"confirmed"===i.status,o=void 0!==i&&"waitlisted"===i.status;return n||o||(t=!1),{...a,isBooked:n,isWaitlisted:o,status:i?i.status:"Not booked",bookingId:i?i.bookingId:null}})),this.allChildrenBooked=t})).catch((e=>{console.error("There was an error fetching the booking status:",e),this.bookingStatus="Error fetching booking status"}))},bookActivity(e){if(!e)return void alert("Please select a child");const t={childId:e,activityId:this.activity._id},a={...t};N.A.post("/booking/bookActivity",a,{headers:{Authorization:`Bearer ${localStorage.getItem("user-token")}`}}).then((e=>{"waitlisted"===e.data.status?alert("The activity is booked out, you have been put on the waitlist."):alert("Activity booked successfully"),this.showBookingModal=!1,this.fetchBookingStatus()})).catch((e=>{console.error("There was an error booking the activity:",e),alert("Failed to book activity. Please try again.")}))},cancelBooking(e,t){N.A.delete(`/booking/deleteBooking/${t}`,{headers:{Authorization:`Bearer ${localStorage.getItem("user-token")}`}}).then((()=>{alert("Booking cancelled successfully."),this.fetchBookingStatus()})).catch((e=>{console.error("There was an error cancelling the booking:",e),e.response&&"Cannot cancel booking after signup end date"===e.response.data.message?alert("Cannot cancel this booking as it is outside the cancellation period."):alert("Failed to cancel booking. Please try again.")}))},removeBooking(e,t){N.A.delete(`/booking/deleteBooking/${t}`,{headers:{Authorization:`Bearer ${localStorage.getItem("user-token")}`}}).then((()=>{alert("Booking removed successfully."),this.fetchParticipants(),this.fetchBookingStatus()})).catch((e=>{console.error("There was an error removing the booking:",e)}))}}},P=a(1317);const B=(0,P.A)(Q,[["render",U],["__scopeId","data-v-c4253c82"]]);var V=B}},t={};function a(i){var n=t[i];if(void 0!==n)return n.exports;var o=t[i]={id:i,loaded:!1,exports:{}};return e[i].call(o.exports,o,o.exports,a),o.loaded=!0,o.exports}a.m=e,function(){var e=[];a.O=function(t,i,n,o){if(!i){var r=1/0;for(c=0;c<e.length;c++){i=e[c][0],n=e[c][1],o=e[c][2];for(var s=!0,l=0;l<i.length;l++)(!1&o||r>=o)&&Object.keys(a.O).every((function(e){return a.O[e](i[l])}))?i.splice(l--,1):(s=!1,o<r&&(r=o));if(s){e.splice(c--,1);var d=n();void 0!==d&&(t=d)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[i,n,o]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var i in t)a.o(t,i)&&!a.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){a.f={},a.e=function(e){return Promise.all(Object.keys(a.f).reduce((function(t,i){return a.f[i](e,t),t}),[]))}}(),function(){a.u=function(e){return"js/"+e+".870bc102.js"}}(),function(){a.miniCssF=function(e){return"css/"+e+".f16a2fec.css"}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="frontend:";a.l=function(i,n,o,r){if(e[i])e[i].push(n);else{var s,l;if(void 0!==o)for(var d=document.getElementsByTagName("script"),c=0;c<d.length;c++){var u=d[c];if(u.getAttribute("src")==i||u.getAttribute("data-webpack")==t+o){s=u;break}}s||(l=!0,s=document.createElement("script"),s.charset="utf-8",s.timeout=120,a.nc&&s.setAttribute("nonce",a.nc),s.setAttribute("data-webpack",t+o),s.src=i),e[i]=[n];var h=function(t,a){s.onerror=s.onload=null,clearTimeout(m);var n=e[i];if(delete e[i],s.parentNode&&s.parentNode.removeChild(s),n&&n.forEach((function(e){return e(a)})),t)return t(a)},m=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),l&&document.head.appendChild(s)}}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){a.p=""}(),function(){if("undefined"!==typeof document){var e=function(e,t,i,n,o){var r=document.createElement("link");r.rel="stylesheet",r.type="text/css",a.nc&&(r.nonce=a.nc);var s=function(a){if(r.onerror=r.onload=null,"load"===a.type)n();else{var i=a&&a.type,s=a&&a.target&&a.target.href||t,l=new Error("Loading CSS chunk "+e+" failed.\n("+i+": "+s+")");l.name="ChunkLoadError",l.code="CSS_CHUNK_LOAD_FAILED",l.type=i,l.request=s,r.parentNode&&r.parentNode.removeChild(r),o(l)}};return r.onerror=r.onload=s,r.href=t,i?i.parentNode.insertBefore(r,i.nextSibling):document.head.appendChild(r),r},t=function(e,t){for(var a=document.getElementsByTagName("link"),i=0;i<a.length;i++){var n=a[i],o=n.getAttribute("data-href")||n.getAttribute("href");if("stylesheet"===n.rel&&(o===e||o===t))return n}var r=document.getElementsByTagName("style");for(i=0;i<r.length;i++){n=r[i],o=n.getAttribute("data-href");if(o===e||o===t)return n}},i=function(i){return new Promise((function(n,o){var r=a.miniCssF(i),s=a.p+r;if(t(r,s))return n();e(i,s,null,n,o)}))},n={524:0};a.f.miniCss=function(e,t){var a={110:1};n[e]?t.push(n[e]):0!==n[e]&&a[e]&&t.push(n[e]=i(e).then((function(){n[e]=0}),(function(t){throw delete n[e],t})))}}}(),function(){var e={524:0};a.f.j=function(t,i){var n=a.o(e,t)?e[t]:void 0;if(0!==n)if(n)i.push(n[2]);else{var o=new Promise((function(a,i){n=e[t]=[a,i]}));i.push(n[2]=o);var r=a.p+a.u(t),s=new Error,l=function(i){if(a.o(e,t)&&(n=e[t],0!==n&&(e[t]=void 0),n)){var o=i&&("load"===i.type?"missing":i.type),r=i&&i.target&&i.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+r+")",s.name="ChunkLoadError",s.type=o,s.request=r,n[1](s)}};a.l(r,l,"chunk-"+t,t)}},a.O.j=function(t){return 0===e[t]};var t=function(t,i){var n,o,r=i[0],s=i[1],l=i[2],d=0;if(r.some((function(t){return 0!==e[t]}))){for(n in s)a.o(s,n)&&(a.m[n]=s[n]);if(l)var c=l(a)}for(t&&t(i);d<r.length;d++)o=r[d],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(c)},i=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=a.O(void 0,[504],(function(){return a(3699)}));i=a.O(i)})();
//# sourceMappingURL=app.cc6494e3.js.map