"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[110],{8110:function(e,l,d){d.r(l),d.d(l,{default:function(){return K}});var t=d(4220),r=d(7700),a=d(9798);const s=e=>((0,t.Qi)("data-v-4ef1cfeb"),e=e(),(0,t.jt)(),e),n={class:"user-detail-page"},u={class:"user-detail"},i=s((()=>(0,t.Lk)("h1",null,"User Detail",-1))),o=s((()=>(0,t.Lk)("strong",null,"First Name:",-1))),h=s((()=>(0,t.Lk)("strong",null,"Last Name:",-1))),p={key:0},c=s((()=>(0,t.Lk)("strong",null,"Address:",-1))),m=[c],C={key:1},k=s((()=>(0,t.Lk)("strong",null,"Phone:",-1))),L=s((()=>(0,t.Lk)("strong",null,"Username:",-1))),f=s((()=>(0,t.Lk)("strong",null,"Email:",-1))),v=s((()=>(0,t.Lk)("strong",null,"Role:",-1))),U={key:2},w=s((()=>(0,t.Lk)("strong",null,"Parent:",-1))),y={key:3},b=s((()=>(0,t.Lk)("h2",null,"Children",-1))),g=s((()=>(0,t.Lk)("strong",null,"Username:",-1))),_=s((()=>(0,t.Lk)("strong",null,"Email:",-1))),N=s((()=>(0,t.Lk)("strong",null,"Role:",-1))),E={key:4},I=s((()=>(0,t.Lk)("h2",null,"Add Child",-1))),q=s((()=>(0,t.Lk)("button",{type:"submit"},"Add Child",-1)));function A(e,l,d,s,c,A){const J=(0,t.g2)("admin-navbar"),V=(0,t.g2)("child-user-update-form");return(0,t.uX)(),(0,t.CE)(t.FK,null,[(0,t.bF)(J,{userId:c.currentUserId},null,8,["userId"]),(0,t.Lk)("div",n,[(0,t.Lk)("div",u,[i,(0,t.Lk)("p",null,[o,(0,t.eW)(" "+(0,r.v_)(c.user.firstName),1)]),(0,t.Lk)("p",null,[h,(0,t.eW)(" "+(0,r.v_)(c.user.lastName),1)]),c.user.address?((0,t.uX)(),(0,t.CE)("p",p,m)):(0,t.Q3)("",!0),c.user.address?((0,t.uX)(),(0,t.CE)("ul",C,[(0,t.Lk)("li",null,"Street: "+(0,r.v_)(c.user.address.street),1),(0,t.Lk)("li",null,"City: "+(0,r.v_)(c.user.address.city),1),(0,t.Lk)("li",null,"Zip Code: "+(0,r.v_)(c.user.address.zipCode),1)])):(0,t.Q3)("",!0),(0,t.Lk)("p",null,[k,(0,t.eW)(" "+(0,r.v_)(c.user.phone),1)]),(0,t.Lk)("p",null,[L,(0,t.eW)(" "+(0,r.v_)(c.user.username),1)]),(0,t.Lk)("p",null,[f,(0,t.eW)(" "+(0,r.v_)(c.user.email),1)]),(0,t.Lk)("p",null,[v,(0,t.eW)(" "+(0,r.v_)(c.user.role),1)]),c.user.parent?((0,t.uX)(),(0,t.CE)("p",U,[w,(0,t.eW)(" "+(0,r.v_)(c.user.parent.username),1)])):(0,t.Q3)("",!0),c.user.children&&c.user.children.length>0?((0,t.uX)(),(0,t.CE)("div",y,[b,(0,t.Lk)("ul",null,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(c.user.children,(e=>((0,t.uX)(),(0,t.CE)("li",{key:e._id},[(0,t.Lk)("p",null,[g,(0,t.eW)(" "+(0,r.v_)(e.username),1)]),(0,t.Lk)("p",null,[_,(0,t.eW)(" "+(0,r.v_)(e.email),1)]),(0,t.Lk)("p",null,[N,(0,t.eW)(" "+(0,r.v_)(e.role),1)]),(0,t.bF)(V,{child:e,onChildUpdated:A.fetchUserDetails},null,8,["child","onChildUpdated"])])))),128))])])):(0,t.Q3)("",!0),"parent"===c.user.role?((0,t.uX)(),(0,t.CE)("div",E,[I,(0,t.Lk)("form",{onSubmit:l[6]||(l[6]=(0,a.D$)(((...e)=>A.addChild&&A.addChild(...e)),["prevent"]))},[(0,t.bo)((0,t.Lk)("input",{type:"text","onUpdate:modelValue":l[0]||(l[0]=e=>c.newChild.firstName=e),placeholder:"First Name",required:""},null,512),[[a.Jo,c.newChild.firstName]]),(0,t.bo)((0,t.Lk)("input",{type:"text","onUpdate:modelValue":l[1]||(l[1]=e=>c.newChild.lastName=e),placeholder:"Last Name",required:""},null,512),[[a.Jo,c.newChild.lastName]]),(0,t.bo)((0,t.Lk)("input",{type:"text","onUpdate:modelValue":l[2]||(l[2]=e=>c.newChild.username=e),placeholder:"Username",required:""},null,512),[[a.Jo,c.newChild.username]]),(0,t.bo)((0,t.Lk)("input",{type:"email","onUpdate:modelValue":l[3]||(l[3]=e=>c.newChild.email=e),placeholder:"Email",required:""},null,512),[[a.Jo,c.newChild.email]]),(0,t.bo)((0,t.Lk)("input",{type:"password","onUpdate:modelValue":l[4]||(l[4]=e=>c.newChild.password=e),placeholder:"Password",required:""},null,512),[[a.Jo,c.newChild.password]]),(0,t.bo)((0,t.Lk)("input",{type:"hidden","onUpdate:modelValue":l[5]||(l[5]=e=>c.newChild.role=e),value:"child"},null,512),[[a.Jo,c.newChild.role]]),q],32)])):(0,t.Q3)("",!0)])])],64)}var J=d(83),V=d(9181);const W=e=>((0,t.Qi)("data-v-720cb5cf"),e=e(),(0,t.jt)(),e),F={class:"child-user-update-form"},X=W((()=>(0,t.Lk)("h2",null,"Update Child",-1))),$=W((()=>(0,t.Lk)("button",{type:"submit"},"Update Child",-1)));function D(e,l,d,r,s,n){return(0,t.uX)(),(0,t.CE)("div",F,[X,(0,t.Lk)("form",{onSubmit:l[4]||(l[4]=(0,a.D$)(((...e)=>n.updateChild&&n.updateChild(...e)),["prevent"]))},[(0,t.bo)((0,t.Lk)("input",{type:"text","onUpdate:modelValue":l[0]||(l[0]=e=>s.updatedChild.firstName=e),placeholder:"First Name",required:""},null,512),[[a.Jo,s.updatedChild.firstName]]),(0,t.bo)((0,t.Lk)("input",{type:"text","onUpdate:modelValue":l[1]||(l[1]=e=>s.updatedChild.lastName=e),placeholder:"Last Name",required:""},null,512),[[a.Jo,s.updatedChild.lastName]]),(0,t.bo)((0,t.Lk)("input",{type:"text","onUpdate:modelValue":l[2]||(l[2]=e=>s.updatedChild.username=e),placeholder:"Username",required:""},null,512),[[a.Jo,s.updatedChild.username]]),(0,t.bo)((0,t.Lk)("input",{type:"email","onUpdate:modelValue":l[3]||(l[3]=e=>s.updatedChild.email=e),placeholder:"Email",required:""},null,512),[[a.Jo,s.updatedChild.email]]),$],32)])}var Q={name:"ChildUserUpdateForm",props:{child:{type:Object,required:!0}},data(){return{updatedChild:{...this.child}}},methods:{async updateChild(){try{const e=this.$route.params.userId,l=this.child._id;await J.A.put(`users/${e}/children/${l}`,this.updatedChild),alert("Child user updated successfully!"),this.$emit("childUpdated")}catch(e){console.error("There was an error updating the child:",e.message)}}}},x=d(1317);const S=(0,x.A)(Q,[["render",D],["__scopeId","data-v-720cb5cf"]]);var j=S,P={name:"UserDetail",components:{AdminNavbar:V.A,ChildUserUpdateForm:j},data(){return{currentUserId:"",user:{},newChild:{firstName:"",lastName:"",username:"",email:"",password:"",role:"child"}}},async created(){this.fetchUserDetails(),this.currentUserId=localStorage.getItem("user-id")},methods:{async fetchUserDetails(){const e=this.$route.params.userId;try{const l=await J.A.get(`users/${e}`);this.user=l.data}catch(l){console.error("There was an error fetching the user details:",l.message)}},async addChild(){try{await J.A.post(`users/${this.user._id}/children`,this.newChild),alert("Child added successfully!"),this.newChild.username="",this.newChild.email="",this.newChild.password="",this.fetchUserDetails()}catch(e){console.error("There was an error adding the child:",e.message)}}}};const T=(0,x.A)(P,[["render",A],["__scopeId","data-v-4ef1cfeb"]]);var K=T}}]);
//# sourceMappingURL=110.870bc102.js.map